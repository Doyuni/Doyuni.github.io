<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content><meta name="keywords" content><meta name="author" content="Geum Doyun"><meta name="copyright" content="Geum Doyun"><title>JUST WRITE IT.</title><link rel="shortcut icon" href="/giraff-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-8552652691432976',
  enable_page_level_ads: 'true'
});
</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-156904476-1', 'auto');
ga('send', 'pageview');</script><link rel="canonical" href="https://doyuni.github.io/page/2/"><meta name="naver-site-verification" content="16f3853746fac18344f4edb27f37ac59baa5014b"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"EHXLIPJCJ2","apiKey":"95bd4c12802939dde4c6a2e4cc9def3c","indexName":"my-blog","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/rss2.xml" title="JUST WRITE IT." type="application/rss+xml">
</head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Geum Doyun</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">55</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">6</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">4</span></a></div></div></div><nav id="nav" style="background-image: url(https://images.unsplash.com/photo-1555306210-a7dacfb0f72c?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2250&amp;q=80)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">JUST WRITE IT.</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="site-info"><div id="site-title">JUST WRITE IT.</div><div id="site-sub-title"></div><div id="site-social-icons"><a class="social-icon" href="https://github.com/Doyuni" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-github fab"></i></a><a class="social-icon" href="https://www.notion.so/doyunlog/Creative-Thinking-53b44cee1ba24b4eb91850bfdcc58ef3" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-blogger fab"></i></a><a class="social-icon" href="https://doyuni.github.io/rss2.xml" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-rss fas"></i></a></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17136/">백준 17136번 색종이 붙이기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17136-색종이-붙이기"><a href="#17136-색종이-붙이기" class="headerlink" title="#17136. 색종이 붙이기"></a>#17136. 색종이 붙이기</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17136" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>DFS + BackTracking을 사용하여 푼다.<br>(처음에 BFS+Greedy를 이용해 풀었다가 틀렸다…반례가 존재)</li>
<li>10 x 10 크기의 모든 배열에서 모든 지점을 탐색한다.<ul>
<li>탐색 횟수가 100이라면 모든 지점을 탐색한 경우라 값을 갱신하고 종료한다.</li>
<li>행과 열은 0 → 100개의 원소들에 맞게 계산</li>
<li>이미 <code>ans</code> 가 지금까지 구한 개수(<code>cnt</code>) 보다 크면 종료 (BackTracking)</li>
<li>해당 지점이 1이면 색종이 크기가 큰 5부터 검사 시작<ul>
<li>해당 크기가 가능하면 붙이고 다음 경우 탐색<br>탐색이 끝난 경우 원래대로 돌려놓아야 모든 경우 탐색이 가능하다.</li>
</ul>
</li>
<li>해당 지점이 0이면 다음 번째 원소 탐색</li>
</ul>
</li>
</ul>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> type[<span class="number">5</span>] = &#123;<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span> &#125;; <span class="comment">// 1 2 3 4 5 종류</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> size, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = x; i &lt; x + size; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = y; j &lt; y + size; ++j) &#123;</span><br><span class="line">			<span class="built_in">map</span>[i][j] = status;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Check</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> size)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (x + size &gt; <span class="number">10</span> || y + size &gt; <span class="number">10</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// 범위 밖</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = x; i &lt; x + size; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = y; j &lt; y + size; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (n == <span class="number">100</span>) &#123; <span class="comment">// 모든 경우를 탐색한 경우 (총 100개)</span></span><br><span class="line">		<span class="keyword">if</span> (ans &gt; cnt) ans = cnt;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> x = n / <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">int</span> y = n % <span class="number">10</span>;</span><br><span class="line">	<span class="keyword">if</span> (ans &lt;= cnt) <span class="keyword">return</span>; <span class="comment">// BackTracking</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">map</span>[x][y] == <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">5</span>; i &gt; <span class="number">0</span>; --i) &#123; <span class="comment">// 크기 5부터 시작</span></span><br><span class="line">			<span class="keyword">if</span> (type[i<span class="number">-1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (Check(x, y, i)) &#123;</span><br><span class="line">					type[i - <span class="number">1</span>]--;</span><br><span class="line">					Update(x, y, i, <span class="number">0</span>); <span class="comment">// 색종이 붙이기</span></span><br><span class="line">					DFS(n+<span class="number">1</span>, cnt + <span class="number">1</span>);</span><br><span class="line">					Update(x, y, i, <span class="number">1</span>); <span class="comment">// 색종이 다시 때기</span></span><br><span class="line">					type[i - <span class="number">1</span>]++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> DFS(n + <span class="number">1</span>, cnt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; <span class="built_in">map</span>[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	DFS(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">if</span> (ans == <span class="number">100</span>) ans = <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17135/">백준 17135번 캐슬 디펜스</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17135-캐슬-디펜스"><a href="#17135-캐슬-디펜스" class="headerlink" title="#17135. 캐슬 디펜스"></a>#17135. 캐슬 디펜스</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17135" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ol>
<li>궁수 3명의 위치를 지정한다. (중복x, 오름차순 순열조합)</li>
<li>적이 사라질 때까지(<strong>=궁수가 0번째 행으로 이동할 때까지</strong>) 게임을 진행한다.<ol>
<li>궁수는 가장 가까운 위치의 적을 공격해야 하며, 여럿이면 왼쪽의 적부터 공격한다. 또한 동시에 공격이 가능하다(=위의 조건을 만족하는 같은 적을 공격한다.)</li>
<li>공격이 끝나면 배열을 바꾸지 않고 궁수의 위치를 이동시킨다. (위로)<br><code>step</code> 변수를 두어 범위를 좁혀간다.</li>
</ol>
</li>
</ol>
<p>가까운 적을 먼저 찾아 공격하기 위해 BFS 탐색을 사용한다.</p>
<ul>
<li>각 궁수별로 <code>queue</code> 를 만들어 자신의 위치를 저장하고 탐색 시작 (최대 D까지)</li>
<li>궁수가 적을 공격할 경우 다음 궁수에게 차례를 넘긴다. (즉, 공격하면 자신의 턴 끝=탐색 끝)</li>
<li><code>check array</code>를 사용해 공격한 적일 경우 해당 <code>step + 1</code>의 값을 준다. (step이 0부터 시작, check는 0으로 초기화 되어있기에)</li>
<li><code>step</code>을 이용해 <code>check</code>에 값을 준 이유는 다음 <code>step</code>에서 궁수의 위치가 이동될 때 이전 턴에서 공격 당해 제외된 적인지 아닌지를 판단하기 위함이다. (step의 값이 변하니까 중복되지 않게 탐색 가능)</li>
</ul>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><ul>
<li>궁수는 가장 가까운 위치의 적을 공격, 가까운 적이 여럿이면 왼쪽 우선 그리고 동시에 공격 가능하다는 조건을 충족하지 못 했다. → BFS를 이용하기로 결정<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, D, ans;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">16</span>][<span class="number">16</span>];</span><br><span class="line"><span class="keyword">bool</span> check[<span class="number">16</span>][<span class="number">16</span>];</span><br><span class="line"><span class="keyword">int</span> archer[<span class="number">3</span>] = &#123; <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getDistance</span><span class="params">(<span class="keyword">int</span> a_x, <span class="keyword">int</span> a_y, <span class="keyword">int</span> b_x, <span class="keyword">int</span> b_y)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="built_in">abs</span>(a_x - b_x) + <span class="built_in">abs</span>(a_y - b_y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Game</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> step = <span class="number">0</span>, res = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	<span class="keyword">while</span> (<span class="literal">true</span>) &#123; </span><br><span class="line">		<span class="keyword">int</span> attack_cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = N - step - <span class="number">1</span>; i &gt;= (N -step) - D &amp;&amp; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = attack_cnt; k &lt; <span class="number">3</span>; ++k) &#123; <span class="comment">// 3명의 궁수</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">					<span class="keyword">if</span> (D &gt;= getDistance(i, j, N - step, archer[k])</span><br><span class="line">						&amp;&amp; <span class="built_in">map</span>[i][j] == <span class="number">1</span> &amp;&amp; !check[i][j]) &#123; <span class="comment">// 공격 개시</span></span><br><span class="line">						res++;</span><br><span class="line">						check[i][j] = <span class="literal">true</span>;</span><br><span class="line">						attack_cnt++;</span><br><span class="line">						<span class="keyword">break</span>; <span class="comment">// 한 번만 공격 가능</span></span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		step++;</span><br><span class="line">		<span class="keyword">if</span> (N - step - <span class="number">1</span> &lt; <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (ans &lt; res) ans = res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectPosition</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt == <span class="number">3</span>) &#123;</span><br><span class="line">		Game();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &lt; M; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (archer[cnt] != <span class="number">-1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		archer[cnt] = i;</span><br><span class="line">		SelectPosition(i + <span class="number">1</span>, cnt + <span class="number">1</span>);</span><br><span class="line">		archer[cnt] = <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; D;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; <span class="built_in">map</span>[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SelectPosition(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-Try"><a href="#2-Try" class="headerlink" title="2 Try"></a>2 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, D, ans;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">16</span>][<span class="number">16</span>];</span><br><span class="line"><span class="keyword">int</span> check[<span class="number">16</span>][<span class="number">16</span>];</span><br><span class="line"><span class="keyword">int</span> archer[<span class="number">3</span>] = &#123; <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">3</span>] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">3</span>] = &#123; <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Game</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> step = <span class="number">0</span>, res = <span class="number">0</span>; <span class="comment">// step은 1턴이 끝날 때 이동을 위함</span></span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));	</span><br><span class="line">	<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123; <span class="comment">// 궁수 각 3명에 대하여</span></span><br><span class="line">			<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line">			q.push(&#123; N - step, archer[i] &#125;); <span class="comment">// 궁수 현재 위치부터 시작</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; D; ++j) &#123; <span class="comment">// 최대 D까지만큼만 탐색</span></span><br><span class="line">				<span class="keyword">int</span> len = q.size();</span><br><span class="line">				<span class="keyword">bool</span> end_flag = <span class="literal">false</span>; <span class="comment">// 적을 공격했을 때 종료 flag</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; len; ++k) &#123;</span><br><span class="line">					<span class="keyword">int</span> x = q.front().first;</span><br><span class="line">					<span class="keyword">int</span> y = q.front().second;</span><br><span class="line">					q.pop();</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">3</span>; ++dir) &#123; <span class="comment">// 왼 위 오 순서로 탐색 시작</span></span><br><span class="line">						<span class="keyword">int</span> d_x = x + dx[dir];</span><br><span class="line">						<span class="keyword">int</span> d_y = y + dy[dir];</span><br><span class="line">						<span class="keyword">if</span> (d_x &gt; <span class="number">-1</span> &amp;&amp; d_y &gt; <span class="number">-1</span> &amp;&amp; d_x &lt; N - step &amp;&amp; d_y &lt; M) &#123; <span class="comment">// N - step은 궁수 위치</span></span><br><span class="line">							<span class="keyword">if</span> (d_x &lt; N - step - D) <span class="keyword">continue</span>; <span class="comment">// [N - step - D, N-step) 탐색 범위</span></span><br><span class="line">							<span class="keyword">if</span> (<span class="built_in">map</span>[d_x][d_y] == <span class="number">1</span> &amp;&amp; check[d_x][d_y] == <span class="number">0</span>) &#123; <span class="comment">// 처음 적을 공격한 경우</span></span><br><span class="line">								res++;</span><br><span class="line">								check[d_x][d_y] = step + <span class="number">1</span>; <span class="comment">// step을 옮겼을 때 중복 방지를 위함</span></span><br><span class="line">								end_flag = <span class="literal">true</span>;</span><br><span class="line">								<span class="keyword">break</span>;</span><br><span class="line">							&#125;</span><br><span class="line">							<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">map</span>[d_x][d_y] == <span class="number">1</span> &amp;&amp; check[d_x][d_y] == step + <span class="number">1</span>) &#123; <span class="comment">// 동시에 적을 공격한 경우</span></span><br><span class="line">								end_flag = <span class="literal">true</span>;</span><br><span class="line">								<span class="keyword">break</span>;</span><br><span class="line">							&#125;</span><br><span class="line">							<span class="keyword">else</span> &#123; <span class="comment">// 적을 발견하지 못 한 경우</span></span><br><span class="line">								q.push(&#123; d_x, d_y &#125;);</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">if</span> (end_flag) <span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (end_flag) <span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		step++;</span><br><span class="line">		<span class="keyword">if</span> (N - step - <span class="number">1</span> &lt; <span class="number">0</span>) <span class="keyword">break</span>; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (ans &lt; res) ans = res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectPosition</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt == <span class="number">3</span>) &#123;</span><br><span class="line">		Game();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &lt; M; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (archer[cnt] != <span class="number">-1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		archer[cnt] = i;</span><br><span class="line">		SelectPosition(i + <span class="number">1</span>, cnt + <span class="number">1</span>);</span><br><span class="line">		archer[cnt] = <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; D;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; <span class="built_in">map</span>[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SelectPosition(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17070/">백준 17070번 파이프 옮기기 1</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17070-파이프-옮기기-1"><a href="#17070-파이프-옮기기-1" class="headerlink" title="#17070. 파이프 옮기기 1"></a>#17070. 파이프 옮기기 1</h1><p><a href="https://www.acmicpc.net/problem/17070" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></p>
<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li>파이프는 2개의 연속된 칸을 차지</li>
<li>회전이 가능 (3가지: 수평선, 수직선, 대각선(4칸 차지))</li>
</ul>
<p><strong>Goal: (0, 0) 과 (0, 1)에 위치한 하나의 파이프를 (N, N)으로 옮기는 방법의 개수<br>불가능한 경우 0</strong> </p>
<ul>
<li>파이프 옮기기</li>
</ul>
<p>오른쪽, 아래, 오른쪽 아래 대각선 방향으로 옮길 수 있음<br>옮길 때 45도 회전 가능<br>벽에 닿으면 안됨</p>
<ul>
<li>가로(수평) → 오른쪽 or 오른쪽 아래 대각선</li>
<li>세로(수직) → 아래 or 오른쪽 아래 대각선</li>
<li>오른쪽 아래 대각선 → 3가지 모두 가능</li>
</ul>
<p><strong>입력</strong></p>
<pre><code>N: 3~16
빈칸 0 벽은 1
// 예제
0 0 1 0 
0 0 0 0 
0 0 0 0
0 0 0 0
-&gt; 0

맨 처음 파이프는 (0,0), (0,1) 즉 가로이기에 가능한 방향인
오른쪽, 오른쪽 아래 대각선으로 옮길 수 없다.
</code></pre><h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>현재 type 정보와 위치를 알고 있어야 한다.</li>
<li>현재 type에 따라 옮길 수 있는 방향이 다르다.</li>
<li>현재 type에 따라 옮길 수 있는지 check를 해주어야 한다.</li>
<li><code>check</code><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">가로: 오른쪽 <span class="number">1</span>칸 검사</span><br><span class="line">세로: 아래 <span class="number">1</span>칸 검사</span><br><span class="line">대각선: 오른쪽 <span class="number">1</span>칸, 아래 <span class="number">1</span>칸, 오른쪽 아래 <span class="number">1</span>칸 검사</span><br><span class="line"><span class="comment">// # 1.</span></span><br><span class="line">가로 -&gt; 가로 (자기 자신)</span><br><span class="line">     -&gt; 대각선		 </span><br><span class="line"><span class="comment">// # 2.</span></span><br><span class="line">세로 -&gt; 세로 (자기 자신)</span><br><span class="line">     -&gt; 대각선		 </span><br><span class="line"><span class="comment">// # 3.</span></span><br><span class="line">대각선 -&gt; 세로</span><br><span class="line">       -&gt; 가로</span><br><span class="line">       -&gt; 대각선</span><br></pre></td></tr></table></figure></li>
</ul>
<ol>
<li>모두 자기 자신의 타입 그대로 옮길 수 있다.</li>
<li>대각선을 가기 위해서는 가로, 세로로 갈 수 있는 조건 역시 만족해야 한다.</li>
</ol>
<p>위를 이용하여 탐색 코드를 구현한다.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> 탐색(현재 위치, 현재 타입)</span><br><span class="line">	도착했을 때 answer++후 리턴</span><br><span class="line">	<span class="keyword">for</span>(<span class="number">3</span>번)</span><br><span class="line">		check할 위치(오른쪽, 아래, 오른쪽 아래)</span><br><span class="line">		경계확인</span><br><span class="line">			(벽이 아니고 자신과 같은 type)이거나(벽이 아니고 대각선)</span><br><span class="line">				탐색(옮길 위치, 가능한 타입) </span><br><span class="line">	모든 곳을 검사했을 때만 대각선 탐색</span><br></pre></td></tr></table></figure></p>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 16</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, answer;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="comment">// 오른쪽 1칸 검사, 아래 1칸 검사, 오른쪽 아래 1칸 검사</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">3</span>] = &#123; <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span> &#125;; </span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">3</span>] = &#123; <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; n &amp;&amp; c &lt; n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// type 0 : 가로, 1 : 세로, 2 : 대각선</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">int</span> type)</span> </span>&#123; </span><br><span class="line">	<span class="keyword">if</span> (r == n - <span class="number">1</span> &amp;&amp; c == n - <span class="number">1</span>) &#123;</span><br><span class="line">		answer++;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 현재 타입이 가로일 때 어차피 대각선 때문에 3칸 다 검사해야 한다.</span></span><br><span class="line">	<span class="keyword">int</span> x, y;</span><br><span class="line">	<span class="keyword">bool</span> flag = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</span><br><span class="line">		x = r + dx[i];</span><br><span class="line">		y = c + dy[i];</span><br><span class="line">		<span class="keyword">if</span> (isBound(x, y)) &#123;</span><br><span class="line"><span class="comment">// 같은 type일 경우 or 대각선일 경우, i==2이면 대각선 경우가 한 번 더 구해지는 꼴이다.</span></span><br><span class="line">			<span class="keyword">if</span> ((<span class="built_in">map</span>[x][y] == <span class="number">0</span> &amp;&amp; type == i || <span class="built_in">map</span>[x][y] == <span class="number">0</span> &amp;&amp; type == <span class="number">2</span>) &amp;&amp; i != <span class="number">2</span>) &#123; </span><br><span class="line">				dfs(x, y, i);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">map</span>[x][y] != <span class="number">0</span>) flag = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> flag = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (flag) &#123;</span><br><span class="line">		dfs(x, y, <span class="number">2</span>); <span class="comment">// 오른쪽 아래 대각선</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	dfs(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/16637/">백준 16637번 괄호 추가하기</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="16637-괄호-추가하기"><a href="#16637-괄호-추가하기" class="headerlink" title="#16637. 괄호 추가하기"></a>#16637. 괄호 추가하기</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/16637" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ol>
<li>어느 연산자에 괄호를 넣을지 정해야 한다.<br>괄호는 연산자 연속으로 넣을 수 없다. (1+(3)-2) → 말도 안되는 식<br>그렇기에 이전 괄호의 위치를 알고 있어야 한다.<br>괄호는 첫 번째에 넣을 필요는 없으며(op[i]≠1)<br>이전 괄호의 위치와 2 차이가 나면 안된다.</li>
<li>괄호를 모두 지정했으면 각 경우에 맞게 식을 계산한다.</li>
</ol>
<ul>
<li>괄호가 등장하면 한 번에 계산하고 반환한다.</li>
<li><code>Stack</code>을 사용하여 연산자만 넣는다.</li>
<li><code>Stack</code>이 비어있지 않으면 꺼내어 연산자에 맞게 계산한다.</li>
</ul>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><ul>
<li><p>*(곱셈)은 괄호가 필요 없을 것이라 생각하여 괄호를 넣어주지 않았다.<br>하지만 연산은 왼쪽에서부터 순서대로 진행되기에 곱셈도 괄호가 필요하다.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> expr[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> op[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> N, ans, total_bracket;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">TaskBracket</span><span class="params">(<span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = expr[start] - <span class="string">'0'</span>;</span><br><span class="line">	<span class="keyword">int</span> b = expr[start+<span class="number">2</span>] - <span class="string">'0'</span>;</span><br><span class="line">	<span class="keyword">char</span> opr = expr[start + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">if</span> (opr == <span class="string">'+'</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> a + b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> a - b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Calculate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> res = expr[<span class="number">0</span>]-<span class="string">'0'</span>, tmp = <span class="number">0</span>, idx = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i != N<span class="number">-1</span> &amp;&amp; selected[i+<span class="number">1</span>]) &#123;</span><br><span class="line">			tmp = TaskBracket(i);</span><br><span class="line">			i+=<span class="number">2</span>; </span><br><span class="line">			flag = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!st.empty()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (st.top() == <span class="string">'+'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res += tmp; </span><br><span class="line">				<span class="keyword">else</span> res += <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (st.top() == <span class="string">'-'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res -= tmp;</span><br><span class="line">				<span class="keyword">else</span> res -= <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res *= tmp; </span><br><span class="line">				<span class="keyword">else</span> res *= <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			st.pop();</span><br><span class="line">			flag = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (expr[i] == <span class="string">'+'</span> || expr[i] == <span class="string">'-'</span> || expr[i] == <span class="string">'*'</span>) &#123;</span><br><span class="line">			st.push(expr[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (res &gt; ans) ans = res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectBracket</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt, <span class="keyword">int</span> prior)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt &lt;= total_bracket) &#123;</span><br><span class="line">		Calculate();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &lt; total_bracket; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[op[i]] || op[i] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (op[i] - prior == <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">		selected[op[i]] = <span class="literal">true</span>;</span><br><span class="line">		SelectBracket(i+<span class="number">1</span>, cnt+<span class="number">1</span>, op[i]);</span><br><span class="line">		selected[op[i]] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; expr[i];</span><br><span class="line">		<span class="keyword">if</span> (expr[i] == <span class="string">'+'</span> || expr[i] == <span class="string">'-'</span>) &#123;</span><br><span class="line">			op[total_bracket++] = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SelectBracket(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-Try"><a href="#2-Try" class="headerlink" title="2 Try"></a>2 Try</h3></li>
<li><p>ans(정답)의 초기값을 0으로 설정해서 틀렸다. 정답은 (-2^31, 2^31)의 범위에 속한다.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> expr[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> op[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> N, total_bracket, ans;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">TaskBracket</span><span class="params">(<span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = expr[start] - <span class="string">'0'</span>;</span><br><span class="line">	<span class="keyword">int</span> b = expr[start+<span class="number">2</span>] - <span class="string">'0'</span>;</span><br><span class="line">	<span class="keyword">char</span> opr = expr[start + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">if</span> (opr == <span class="string">'+'</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> a + b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(opr == <span class="string">'-'</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> a - b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Calculate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> res = expr[<span class="number">0</span>]-<span class="string">'0'</span>, tmp = <span class="number">0</span>, idx = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i != N<span class="number">-1</span> &amp;&amp; selected[i+<span class="number">1</span>]) &#123;</span><br><span class="line">			tmp = TaskBracket(i);</span><br><span class="line">			i+=<span class="number">2</span>; </span><br><span class="line">			flag = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!st.empty()) &#123;</span><br><span class="line">			<span class="keyword">if</span> (st.top() == <span class="string">'+'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res += tmp; </span><br><span class="line">				<span class="keyword">else</span> res += <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (st.top() == <span class="string">'-'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res -= tmp;</span><br><span class="line">				<span class="keyword">else</span> res -= <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res *= tmp; </span><br><span class="line">				<span class="keyword">else</span> res *= <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			st.pop();</span><br><span class="line">			flag = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (expr[i] == <span class="string">'+'</span> || expr[i] == <span class="string">'-'</span> || expr[i] == <span class="string">'*'</span>) &#123;</span><br><span class="line">			st.push(expr[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (res &gt; ans) ans = res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectBracket</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt, <span class="keyword">int</span> prior)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt &lt;= total_bracket) &#123;</span><br><span class="line">		Calculate();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &lt; total_bracket; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[op[i]] || op[i] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (op[i] - prior == <span class="number">2</span>) <span class="keyword">continue</span>;</span><br><span class="line">		selected[op[i]] = <span class="literal">true</span>;</span><br><span class="line">		SelectBracket(i+<span class="number">1</span>, cnt+<span class="number">1</span>, op[i]);</span><br><span class="line">		selected[op[i]] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; expr[i];</span><br><span class="line">		<span class="keyword">if</span> (expr[i] == <span class="string">'+'</span> || expr[i] == <span class="string">'-'</span> || expr[i] == <span class="string">'*'</span>) &#123;</span><br><span class="line">			op[total_bracket++] = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SelectBracket(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-Try"><a href="#3-Try" class="headerlink" title="3 Try"></a>3 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;limits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">char</span> expr[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">20</span>];</span><br><span class="line"><span class="keyword">int</span> op[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> N, total_bracket, ans = numeric_limits&lt;<span class="keyword">int</span>&gt;::min();</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">TaskBracket</span><span class="params">(<span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a = expr[start] - <span class="string">'0'</span>;</span><br><span class="line">	<span class="keyword">int</span> b = expr[start+<span class="number">2</span>] - <span class="string">'0'</span>;</span><br><span class="line">	<span class="keyword">char</span> opr = expr[start + <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">if</span> (opr == <span class="string">'+'</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> a + b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(opr == <span class="string">'-'</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> a - b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Calculate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> res = expr[<span class="number">0</span>]-<span class="string">'0'</span>, tmp = <span class="number">0</span>, idx = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">	<span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; st;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i != N<span class="number">-1</span> &amp;&amp; selected[i+<span class="number">1</span>]) &#123; <span class="comment">// 괄호인 경우</span></span><br><span class="line">			tmp = TaskBracket(i); <span class="comment">// 한 번에 계산</span></span><br><span class="line">			i+=<span class="number">2</span>; </span><br><span class="line">			flag = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!st.empty()) &#123; <span class="comment">// 스택에 연산자가 있을 경우</span></span><br><span class="line">			<span class="keyword">if</span> (st.top() == <span class="string">'+'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res += tmp; </span><br><span class="line">				<span class="keyword">else</span> res += <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (st.top() == <span class="string">'-'</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res -= tmp;</span><br><span class="line">				<span class="keyword">else</span> res -= <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(flag) res *= tmp; </span><br><span class="line">				<span class="keyword">else</span> res *= <span class="keyword">int</span>(expr[i] - <span class="string">'0'</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			st.pop();</span><br><span class="line">			flag = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (expr[i] == <span class="string">'+'</span> || expr[i] == <span class="string">'-'</span> || expr[i] == <span class="string">'*'</span>) &#123;</span><br><span class="line">			st.push(expr[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (res &gt; ans) ans = res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectBracket</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt, <span class="keyword">int</span> prior)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt &lt;= total_bracket) &#123;</span><br><span class="line">		Calculate();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &lt; total_bracket; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[op[i]] || op[i] == <span class="number">1</span>) <span class="keyword">continue</span>; <span class="comment">// 첫 번째 연산자에 괄호는 필요 없다.</span></span><br><span class="line">		<span class="keyword">if</span> (op[i] - prior == <span class="number">2</span>) <span class="keyword">continue</span>; <span class="comment">// 연속적인 괄호는 불가능</span></span><br><span class="line">		selected[op[i]] = <span class="literal">true</span>;</span><br><span class="line">		SelectBracket(i+<span class="number">1</span>, cnt+<span class="number">1</span>, op[i]);</span><br><span class="line">		selected[op[i]] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; expr[i];</span><br><span class="line">		<span class="keyword">if</span> (expr[i] == <span class="string">'+'</span> || expr[i] == <span class="string">'-'</span> || expr[i] == <span class="string">'*'</span>) &#123;</span><br><span class="line">			op[total_bracket++] = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SelectBracket(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/16236/">백준 16236번 아기 상어</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="16236-아기-상어"><a href="#16236-아기-상어" class="headerlink" title="#16236. 아기 상어"></a>#16236. 아기 상어</h1><p><a href="https://www.acmicpc.net/problem/16236" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></p>
<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li>N x N 공간</li>
<li>물고기 M, 아기 상어 1마리 (1칸에 최대 1마리)</li>
<li>아기 상어 처음 크기 : 2, 물고기도 크기 존재</li>
<li>아기 상어 움직임 (1초마다 상하좌우)<br>자신보다 큰 물고기 있는 칸은 못 감 나머진 이동 가능<br>자신보다 작은 물고기만 먹을 수 있고, 크기가 같다면 지나가는건 가능</li>
<li>자신의 크기만큼 물고기를 먹어야 크기가 1 증가한다.</li>
<li>상어가 이동할 곳 결정 방법<ul>
<li>더 이상 먹을 물고기가 없으면 종료</li>
<li>먹을 수 있는 물고기가 1마리라면, 그 물고기를 먹는다. (여기부터 이동)</li>
<li>1마리보다 많다면, 거리가 가장 가까운 물고기부터 먹는다.<ul>
<li>가장 가까운 물고기가 여럿이면 가장 위</li>
<li>그런 물고기가 또 여럿이면 가장 왼쪽에 있는 물고기를 먹는다.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Goal: 종료되는 시간은?</strong></p>
<ul>
<li><p>입력</p>
<p>  0: 빈 칸<br>  1~6: 물고기 크기<br>  9: 아기 상어</p>
</li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li><p>입력값 다루기</p>
<p>  struct shark {</p>
<pre><code>  int r, c, size, cnt= 0;
</code></pre><p>  }baby;</p>
</li>
</ul>
<p>아기 상어의 위치, 크기, 먹은 수를 저장할 수 있도록 구조체를 만든다.</p>
<ul>
<li>다음 작업이 반복된다.</li>
</ul>
<ol>
<li>먹이를 찾기</li>
<li>찾았다면 그 중 규칙에 따라 먹이 선택하기</li>
</ol>
<ul>
<li><strong>먹이 찾기</strong></li>
</ul>
<ol>
<li>탐색할 queue와 먹을 수 있는 물고기를 저장할 queue가 필요하다.</li>
<li>탐색 지점의 표시를 위해 check 배열이 필요하다.</li>
<li>아기 상어가 이동한 후 다음 먹이까지 찾아가는데 걸리는 시간을 따로 저장해야 한다. (<code>part_time</code>)</li>
<li>탐색할 지점은 경계를 넘지 않고 아기 상어 크기보다 작거나 같고 탐색표시가 안된 지점이다.<ul>
<li>탐색이 가능할 때</li>
</ul>
<ol>
<li>탐색 표시를 하고 탐색 queue에 넣어준다.</li>
<li>아기 상어 크기보다 작은 물고기라면 먹이 queue에 넣어준다.</li>
</ol>
</li>
<li>1초간 갈 수 있는 탐색이 끝나면 먹이 queue가 비어있는지를 판단한다.<ol>
<li>먹이 queue에 먹이가 들어있으면 걸린 시간(<code>part_time</code>)을 더해준다.</li>
<li>먹이를 선택한다.<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findPrey</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q, prey;</span><br><span class="line">	q.push(&#123; row, col &#125;);</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	check[row][col] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">int</span> part_time = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123; <span class="comment">// 순회할 때마다 1초 증가</span></span><br><span class="line">		part_time++;</span><br><span class="line">		<span class="keyword">int</span> len = q.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">			<span class="keyword">int</span> r = q.front().first;</span><br><span class="line">			<span class="keyword">int</span> c = q.front().second;</span><br><span class="line">			q.pop();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">				<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">				<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">				<span class="keyword">if</span> (isBound(x, y) &amp;&amp; baby.size &gt;= <span class="built_in">map</span>[x][y] &amp;&amp; !check[x][y]) &#123;</span><br><span class="line">					<span class="keyword">if</span> (baby.size &gt; <span class="built_in">map</span>[x][y] &amp;&amp; <span class="built_in">map</span>[x][y] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">						prey.push(&#123; x, y &#125;);</span><br><span class="line">					&#125;</span><br><span class="line">					check[x][y] = <span class="literal">true</span>;</span><br><span class="line">					q.push(&#123; x, y &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!prey.empty()) &#123;</span><br><span class="line">			selectPrey(prey);</span><br><span class="line">			time += part_time;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	isEnd = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
만약 탐색을 모두 했는데도 먹이가 없다면 <code>isEnd</code>는 <strong>true</strong>가 되므로 작업이 종료된다.</li>
</ol>
</li>
</ol>
<ul>
<li><strong>규칙에 따라 먹이 선택하기</strong><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectPrey</span><span class="params">(<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; &amp;prey)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> prior_x = n, prior_y = n;</span><br><span class="line">	<span class="keyword">while</span> (!prey.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x = prey.front().first;</span><br><span class="line">		<span class="keyword">int</span> y = prey.front().second;</span><br><span class="line">		prey.pop();</span><br><span class="line">		<span class="keyword">if</span> (x &lt; prior_x) &#123;</span><br><span class="line">			prior_x = x;</span><br><span class="line">			prior_y = y;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (x == prior_x) &#123;</span><br><span class="line">			<span class="keyword">if</span> (y &lt; prior_y) &#123;</span><br><span class="line">				prior_y = y;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[baby.r][baby.c] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">map</span>[prior_x][prior_y] = <span class="number">9</span>;</span><br><span class="line">	baby.r = prior_x;</span><br><span class="line">	baby.c = prior_y;</span><br><span class="line">	baby.cnt++;</span><br><span class="line">	<span class="keyword">if</span> (baby.cnt == baby.size) &#123;</span><br><span class="line">		baby.size++;</span><br><span class="line">		baby.cnt = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
이 먹이 queue에 들어있는 (여럿이라면)물고기들은 모두 같은 거리이기에 문제의 규칙인 가장 위쪽 우선, 가장 왼쪽 우선을 따라 물고기를 선택한다.</li>
</ul>
<p>먹을 물고기가 선택되면 아기 상어의 위치를 변경해준다. 크기 또한 먹은 수에 맞게 변경해준다.</p>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><ul>
<li>시간초과 코드<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 21</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, time;</span><br><span class="line"><span class="keyword">bool</span> isEnd;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">shark</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c, size, cnt= <span class="number">0</span>;</span><br><span class="line">&#125;baby;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; n &amp;&amp; c &lt; n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectPrey</span><span class="params">(<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; &amp;prey, <span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; &amp;q)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> prior_x = n, prior_y = n;</span><br><span class="line">	<span class="keyword">while</span> (!prey.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x = prey.front().first;</span><br><span class="line">		<span class="keyword">int</span> y = prey.front().second;</span><br><span class="line">		prey.pop();</span><br><span class="line">		<span class="keyword">if</span> (x &lt; prior_x) &#123;</span><br><span class="line">			prior_x = x;</span><br><span class="line">			prior_y = y;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (x == prior_x) &#123;</span><br><span class="line">			<span class="keyword">if</span> (y &lt; prior_y) &#123;</span><br><span class="line">				prior_y = y;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[baby.r][baby.c] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">map</span>[prior_x][prior_y] = <span class="number">9</span>;</span><br><span class="line">	baby.r = prior_x;</span><br><span class="line">	baby.c = prior_y;</span><br><span class="line">	baby.cnt++;</span><br><span class="line">	<span class="keyword">if</span> (baby.cnt == baby.size) &#123;</span><br><span class="line">		baby.size++;</span><br><span class="line">		baby.cnt = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	q.push(&#123; prior_x, prior_y &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findPrey</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q, prey;</span><br><span class="line">	q.push(&#123; row, col &#125;);</span><br><span class="line">	check[row][col] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">int</span> part_time = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123; <span class="comment">// 순회할 때마다 1초 증가</span></span><br><span class="line">		part_time++;</span><br><span class="line">		<span class="keyword">int</span> len = q.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">			<span class="keyword">int</span> r = q.front().first;</span><br><span class="line">			<span class="keyword">int</span> c = q.front().second;</span><br><span class="line">			q.pop();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">				<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">				<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">				<span class="keyword">if</span> (isBound(x, y) &amp;&amp; baby.size &gt;= <span class="built_in">map</span>[x][y] &amp;&amp; !check[x][y]) &#123;</span><br><span class="line">					<span class="keyword">if</span> (baby.size &gt; <span class="built_in">map</span>[x][y] &amp;&amp; <span class="built_in">map</span>[x][y] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">						prey.push(&#123; x, y &#125;);</span><br><span class="line">					&#125;</span><br><span class="line">					check[x][y] = <span class="literal">true</span>;</span><br><span class="line">					q.push(&#123; x, y &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!prey.empty()) &#123;</span><br><span class="line">			<span class="keyword">while</span> (!q.empty()) q.pop();</span><br><span class="line">			selectPrey(prey, q);</span><br><span class="line">			time = part_time;</span><br><span class="line">			<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	isEnd = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] == <span class="number">9</span>) &#123; <span class="comment">// 아기 상어 정보</span></span><br><span class="line">				baby.r = i;</span><br><span class="line">				baby.c = j;</span><br><span class="line">				baby.size = <span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (!isEnd) &#123;</span><br><span class="line">		findPrey(baby.r, baby.c);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, time);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<code>while (!q.empty()) q.pop();</code> 라인 때문에 시간초과가 걸린 것 같아 굳이 이럴 필요 없이 먹을 수 있는 물고기가 있다면 <code>selectPrey()</code> 를 호출하여 물고기를 선택하고 시간을 갱신해준 후 return하도록 하였다. 이러면 다시 <code>findPrey()</code> 를 호출하기에 업데이트 된 아기 상어 위치가 queue에 들어가고 작업을 수행한다. <code>q</code>를 비울 필요가 없어짐.</li>
</ul>
<h3 id="2-Try"><a href="#2-Try" class="headerlink" title="2 Try"></a>2 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 21</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, time;</span><br><span class="line"><span class="keyword">bool</span> isEnd;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="comment">// 상좌우하</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">shark</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c, size, cnt= <span class="number">0</span>;</span><br><span class="line">&#125;baby;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; n &amp;&amp; c &lt; n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectPrey</span><span class="params">(<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; &amp;prey)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> prior_x = n, prior_y = n;</span><br><span class="line">	<span class="keyword">while</span> (!prey.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x = prey.front().first;</span><br><span class="line">		<span class="keyword">int</span> y = prey.front().second;</span><br><span class="line">		prey.pop();</span><br><span class="line">		<span class="keyword">if</span> (x &lt; prior_x) &#123;</span><br><span class="line">			prior_x = x;</span><br><span class="line">			prior_y = y;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (x == prior_x) &#123;</span><br><span class="line">			<span class="keyword">if</span> (y &lt; prior_y) &#123;</span><br><span class="line">				prior_y = y;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[baby.r][baby.c] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">map</span>[prior_x][prior_y] = <span class="number">9</span>;</span><br><span class="line">	baby.r = prior_x;</span><br><span class="line">	baby.c = prior_y;</span><br><span class="line">	baby.cnt++;</span><br><span class="line">	<span class="keyword">if</span> (baby.cnt == baby.size) &#123;</span><br><span class="line">		baby.size++;</span><br><span class="line">		baby.cnt = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findPrey</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q, prey;</span><br><span class="line">	q.push(&#123; row, col &#125;);</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	check[row][col] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">int</span> part_time = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123; <span class="comment">// 순회할 때마다 1초 증가</span></span><br><span class="line">		part_time++;</span><br><span class="line">		<span class="keyword">int</span> len = q.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">			<span class="keyword">int</span> r = q.front().first;</span><br><span class="line">			<span class="keyword">int</span> c = q.front().second;</span><br><span class="line">			q.pop();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">				<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">				<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">				<span class="keyword">if</span> (isBound(x, y) &amp;&amp; baby.size &gt;= <span class="built_in">map</span>[x][y] &amp;&amp; !check[x][y]) &#123;</span><br><span class="line">					<span class="keyword">if</span> (baby.size &gt; <span class="built_in">map</span>[x][y] &amp;&amp; <span class="built_in">map</span>[x][y] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">						prey.push(&#123; x, y &#125;);</span><br><span class="line">					&#125;</span><br><span class="line">					check[x][y] = <span class="literal">true</span>;</span><br><span class="line">					q.push(&#123; x, y &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!prey.empty()) &#123;</span><br><span class="line">			selectPrey(prey);</span><br><span class="line">			time += part_time;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	isEnd = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] == <span class="number">9</span>) &#123; <span class="comment">// 아기 상어 정보</span></span><br><span class="line">				baby.r = i;</span><br><span class="line">				baby.c = j;</span><br><span class="line">				baby.size = <span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (!isEnd) &#123;</span><br><span class="line">		findPrey(baby.r, baby.c);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, time);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h3><ul>
<li>코드<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 21</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, time;</span><br><span class="line"><span class="keyword">bool</span> isEnd;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="comment">// 상좌우하</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">shark</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c, size, cnt= <span class="number">0</span>;</span><br><span class="line">&#125;baby;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; n &amp;&amp; c &lt; n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectPrey</span><span class="params">(<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; &amp;prey, <span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; &amp;q)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> prior_x = n, prior_y = n;</span><br><span class="line">	<span class="keyword">while</span> (!prey.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x = prey.front().first;</span><br><span class="line">		<span class="keyword">int</span> y = prey.front().second;</span><br><span class="line">		prey.pop();</span><br><span class="line">		<span class="keyword">if</span> (x &lt; prior_x) &#123;</span><br><span class="line">			prior_x = x;</span><br><span class="line">			prior_y = y;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (x == prior_x) &#123;</span><br><span class="line">			<span class="keyword">if</span> (y &lt; prior_y) &#123;</span><br><span class="line">				prior_y = y;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[baby.r][baby.c] = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">map</span>[prior_x][prior_y] = <span class="number">9</span>;</span><br><span class="line">	baby.r = prior_x;</span><br><span class="line">	baby.c = prior_y;</span><br><span class="line">	baby.cnt++;</span><br><span class="line">	<span class="keyword">if</span> (baby.cnt == baby.size) &#123;</span><br><span class="line">		baby.size++;</span><br><span class="line">		baby.cnt = <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	q.push(&#123; prior_x, prior_y &#125;);</span><br><span class="line">	<span class="comment">/*printf("change %d\n");</span></span><br><span class="line"><span class="comment">	for (int k = 0; k &lt; n; ++k) &#123;</span></span><br><span class="line"><span class="comment">		for (int l = 0; l &lt; n; ++l) &#123;</span></span><br><span class="line"><span class="comment">			printf("%d ", map[k][l]);</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		printf("\n");</span></span><br><span class="line"><span class="comment">	&#125;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">findPrey</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q, prey;</span><br><span class="line">	q.push(&#123; row, col &#125;);</span><br><span class="line">	check[row][col] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">int</span> part_time = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123; <span class="comment">// 순회할 때마다 1초 증가</span></span><br><span class="line">		part_time++;</span><br><span class="line">		<span class="keyword">int</span> len = q.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">			<span class="keyword">int</span> r = q.front().first;</span><br><span class="line">			<span class="keyword">int</span> c = q.front().second;</span><br><span class="line">			q.pop();</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">				<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">				<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">				<span class="keyword">if</span> (isBound(x, y) &amp;&amp; baby.size &gt;= <span class="built_in">map</span>[x][y] &amp;&amp; !check[x][y]) &#123;</span><br><span class="line">					<span class="keyword">if</span> (baby.size &gt; <span class="built_in">map</span>[x][y] &amp;&amp; <span class="built_in">map</span>[x][y] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">						prey.push(&#123; x, y &#125;);</span><br><span class="line">					&#125;</span><br><span class="line">					check[x][y] = <span class="literal">true</span>;</span><br><span class="line">					q.push(&#123; x, y &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (!prey.empty()) &#123;</span><br><span class="line">			<span class="keyword">while</span> (!q.empty()) q.pop();</span><br><span class="line">			selectPrey(prey, q);</span><br><span class="line">			time = part_time;</span><br><span class="line">			<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	isEnd = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] == <span class="number">9</span>) &#123; <span class="comment">// 아기 상어 정보</span></span><br><span class="line">				baby.r = i;</span><br><span class="line">				baby.c = j;</span><br><span class="line">				baby.size = <span class="number">2</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (!isEnd) &#123;</span><br><span class="line">		findPrey(baby.r, baby.c);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, time);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/16235/">백준 16235번 나무 재테크</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="16235-나무-재테크"><a href="#16235-나무-재테크" class="headerlink" title="#16235. 나무 재테크"></a>#16235. 나무 재테크</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/16235" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>시뮬레이션 문제이다.</li>
<li>봄, 여름, 가을, 겨울에 맞게 작업을 수행하면 된다.</li>
<li>단 한 칸에 여러 개의 나무가 존재할 수 있다는 점에 주목하자.</li>
</ul>
<p>처음에 3차원 벡터로 해당 칸에 나무 정보를 저장하였지만 계절마다 작업을 수행할 때 상당히 비효율적이라 시간초과가 떴다.</p>
<p><strong>→ 문제의 조건을 잘 보면 답이 보인다. (항상 느끼는 거지만 어떤 자료구조를 선택할지가 중요)</strong></p>
<ol>
<li>나이가 어린 나무부터 양분을 먹는다. (해당 칸에 있는 나무 정보를 순회할 때 어린 나무부터 접근해야 한다.)</li>
<li>나무 정보를 처음에 입력받을 때 한 칸에 하나씩만 받는다.</li>
<li>나무가 추가될 때 나이가 1인 나무가 추가된다.</li>
<li>나이가 클수록 먼저 죽음(나이만큼 양분을 먹기 때문이다.)</li>
</ol>
<p>위 조건을 도합하면 <code>deque</code> 가 가장 적합하다. <code>deque&lt;int&gt; tree[10][10]</code><br>나이가 어린 나무가 앞에 즉, 오름차순으로 정렬되어 있어야 하는데, 처음에 각 칸에 하나씩 입력 받고 추가될 때 <strong>앞부분에 나무를 추가</strong>해주면 되기 때문이다. 죽는건 앞에서부터 탐색을 하다가 죽는 나무가 생기면 그 뒤부터 이미 죽은 나무가 되기에 죽을 나무 개수만 카운트하고 <strong>뒤에서부터 개수만큼 pop하면</strong> 되기 때문이다.</p>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><ul>
<li>code<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, K, ans, diff;</span><br><span class="line"><span class="keyword">int</span> land[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> A[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">8</span>] = &#123; <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">8</span>] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&gt; v;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Input</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		v.resize(N);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			v[i].resize(N);</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; A[i][j];</span><br><span class="line">			land[i][j] = <span class="number">5</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> r, c, age;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; r &gt;&gt; c &gt;&gt; age;</span><br><span class="line">		v[r<span class="number">-1</span>][c<span class="number">-1</span>].push_back(age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Task</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 봄, 여름</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (v[i][j].size() &gt; <span class="number">1</span>) sort(v[i][j].begin(), v[i][j].end());</span><br><span class="line">			<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; v[i][j].size(); ++k) &#123;</span><br><span class="line">				<span class="keyword">if</span> (v[i][j][k] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span> (land[i][j] - v[i][j][k] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">					sum += v[i][j][k] / <span class="number">2</span>;</span><br><span class="line">					v[i][j][k] = <span class="number">0</span>; <span class="comment">// 죽은 표시</span></span><br><span class="line">					diff++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					land[i][j] -= v[i][j][k];</span><br><span class="line">					v[i][j][k]++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			land[i][j] += sum;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 가을, 겨울</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; v[i][j].size(); ++k) &#123;</span><br><span class="line">				<span class="keyword">if</span> (v[i][j][k] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">				<span class="keyword">if</span> (v[i][j][k] % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">8</span>; ++dir) &#123;</span><br><span class="line">						<span class="keyword">int</span> r = i + dx[dir];</span><br><span class="line">						<span class="keyword">int</span> c = j + dy[dir];</span><br><span class="line">						<span class="keyword">if</span> (r &lt;= <span class="number">-1</span> || c &lt;= <span class="number">-1</span> || r &gt;= N || c &gt;= N) <span class="keyword">continue</span>;</span><br><span class="line">						v[r][c].push_back(<span class="number">1</span>);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			land[i][j] += A[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Input();</span><br><span class="line">	<span class="keyword">while</span> (K--) &#123;</span><br><span class="line">		Task();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			ans += v[i][j].size();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	ans -= diff;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
시간초과</li>
</ul>
<h3 id="2-Try"><a href="#2-Try" class="headerlink" title="2 Try"></a>2 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;deque&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, K, ans;</span><br><span class="line"><span class="keyword">int</span> land[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> A[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">8</span>] = &#123; <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">8</span>] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">int</span>&gt; tree[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Input</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K;</span><br><span class="line">	ans = M;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; A[i][j];</span><br><span class="line">			land[i][j] = <span class="number">5</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;	</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> r, c, age;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; r &gt;&gt; c &gt;&gt; age;</span><br><span class="line">		tree[r - <span class="number">1</span>][c - <span class="number">1</span>].push_back(age);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Task</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 봄, 여름</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (tree[i][j].empty()) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">int</span> sum = <span class="number">0</span>, dead_num = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">auto</span> iter = tree[i][j].begin(); iter != tree[i][j].end(); ++iter) &#123;</span><br><span class="line">				<span class="keyword">if</span> (land[i][j] - *iter &lt; <span class="number">0</span>) &#123;</span><br><span class="line">					sum += (*iter) / <span class="number">2</span>;</span><br><span class="line">					dead_num++;</span><br><span class="line">					ans--;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> &#123;</span><br><span class="line">					land[i][j] -= (*iter);</span><br><span class="line">					(*iter)++;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; dead_num; ++k) tree[i][j].pop_back();</span><br><span class="line">			land[i][j] += sum;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// 가을, 겨울</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">auto</span> iter = tree[i][j].begin(); iter != tree[i][j].end(); ++iter) &#123;</span><br><span class="line">				<span class="keyword">if</span> ((*iter) % <span class="number">5</span> == <span class="number">0</span>) &#123;</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">8</span>; ++dir) &#123;</span><br><span class="line">						<span class="keyword">int</span> r = i + dx[dir];</span><br><span class="line">						<span class="keyword">int</span> c = j + dy[dir];</span><br><span class="line">						<span class="keyword">if</span> (r &lt;= <span class="number">-1</span> || c &lt;= <span class="number">-1</span> || r &gt;= N || c &gt;= N) <span class="keyword">continue</span>;</span><br><span class="line">						tree[r][c].push_front(<span class="number">1</span>);</span><br><span class="line">						ans++;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			land[i][j] += A[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Input();</span><br><span class="line">	<span class="keyword">while</span> (K--) &#123;</span><br><span class="line">		Task();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/16234/">백준 16234번 인구 이동</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="16234-인구-이동"><a href="#16234-인구-이동" class="headerlink" title="#16234. 인구 이동"></a>#16234. 인구 이동</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/16234" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li><strong>BFS</strong></li>
</ul>
<p>N x N 크기의 배열을 전부 탐색하면서 check표시가 되어있지 않은 부분은 인구 이동이 가능한지 확인 작업이 수행된다.</p>
<p>작업 동안 누적 합과 연합에 포함된 나라 수를 계산해야 한다.</p>
<ol>
<li>queue가 비어있을 때까지 다음을 수행한다.</li>
<li>현재 위치에서 4방향 탐색 → 범위체크, 탐색할 위치가 미탐색인지 확인</li>
<li>탐색 가능하면 누적 합, 나라 수 계산, 종료되지 않게 flag 갱신, queue에 넣어준다.</li>
<li>만약 나라 수가 1보다 크면 누적합과 사람 수를 따로 저장한다.</li>
</ol>
<p>위 작업이 끝나면 이제 따로 저장한 누적합과 사람 수를 이용해 N x N 크기의 배열을 바꿔준다. (실질적 인구 이동)</p>
<p>만약 flag가 false 즉, 인구이동이 없다면 종료한다.</p>
<ul>
<li><strong>DFS</strong></li>
</ul>
<p>BFS보다 훨씬 빠르고 깔끔하며 명료하다. 처음에 BFS로 할 생각을 했던 것은 N x N 크기의 배열 값을 미리 바꾸면 인구 이동에 영향을 미치게 된다는 생각에 코드를 작성했었는데 생각해보니 한 번 탐색이 끝나면(BFS든 DFS든) check 표시 되어 있기에 영향을 주지 않고 한 번 탐색할 때 위치만 미리 벡터에 저장해주면 된다.</p>
<h3 id="BFS-1-Try"><a href="#BFS-1-Try" class="headerlink" title="BFS 1 Try"></a>BFS 1 Try</h3><ul>
<li>code<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;tuple&gt; </span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, L, R, idx, ans;</span><br><span class="line"><span class="keyword">bool</span> no_end;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">51</span>][<span class="number">51</span>];</span><br><span class="line"><span class="keyword">int</span> check[<span class="number">51</span>][<span class="number">51</span>]; <span class="comment">// 1, 2, 3</span></span><br><span class="line"><span class="keyword">int</span> val[<span class="number">1251</span>][<span class="number">2</span>]; <span class="comment">// 값, 사람 수</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (x &gt; <span class="number">-1</span> &amp;&amp; y &gt; <span class="number">-1</span> &amp;&amp; x &lt; N &amp;&amp; y &lt; N) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">movePeople</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	idx++; </span><br><span class="line">	<span class="keyword">int</span> sum = <span class="built_in">map</span>[r][c], cnt = <span class="number">1</span>;</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line">	q.push(&#123; r, c &#125;);</span><br><span class="line">	check[r][c] = idx;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x, y;</span><br><span class="line">		tie(x, y) = q.front();</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">4</span>; ++dir) &#123;</span><br><span class="line">			<span class="keyword">int</span> d_x = x + dx[dir];</span><br><span class="line">			<span class="keyword">int</span> d_y = y + dy[dir];</span><br><span class="line">			<span class="keyword">if</span> (isBound(d_x, d_y) &amp;&amp; check[d_x][d_y] == <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">abs</span>(<span class="built_in">map</span>[x][y] - <span class="built_in">map</span>[d_x][d_y]) &gt;= L &amp;&amp; <span class="built_in">abs</span>(<span class="built_in">map</span>[x][y] - <span class="built_in">map</span>[d_x][d_y]) &lt;= R) &#123;</span><br><span class="line">					check[d_x][d_y] = idx;</span><br><span class="line">					q.push(&#123; d_x, d_y &#125;);</span><br><span class="line">					no_end = <span class="literal">true</span>;</span><br><span class="line">					cnt++; sum += <span class="built_in">map</span>[d_x][d_y];</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (cnt &gt; <span class="number">1</span>) &#123;</span><br><span class="line">		val[idx][<span class="number">0</span>] = sum;</span><br><span class="line">		val[idx][<span class="number">1</span>] = cnt;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		check[r][c] = <span class="number">0</span>;</span><br><span class="line">		idx--;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">changePeople</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> no_move = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (check[i][j] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="built_in">map</span>[i][j] = val[check[i][j]][<span class="number">0</span>] / val[check[i][j]][<span class="number">1</span>];</span><br><span class="line">			check[i][j] = <span class="number">0</span>; no_move = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (!no_move) ans++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;N, &amp;L, &amp;R);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		idx = <span class="number">0</span>;</span><br><span class="line">		no_end = <span class="literal">false</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">				<span class="keyword">if</span> (check[i][j] &gt; <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">				movePeople(i, j);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		changePeople();</span><br><span class="line">	&#125; <span class="keyword">while</span> (no_end);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="DFS-1-Try"><a href="#DFS-1-Try" class="headerlink" title="DFS 1 Try"></a>DFS 1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, L, R, sum, ans;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">51</span>][<span class="number">51</span>];</span><br><span class="line"><span class="keyword">bool</span> check[<span class="number">51</span>][<span class="number">51</span>]; </span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; v; <span class="comment">// 위치 정보</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (x &gt; <span class="number">-1</span> &amp;&amp; y &gt; <span class="number">-1</span> &amp;&amp; x &lt; N &amp;&amp; y &lt; N) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">	sum += <span class="built_in">map</span>[x][y];</span><br><span class="line">	v.push_back(&#123; x, y &#125;);</span><br><span class="line">	check[x][y] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">4</span>; ++dir) &#123;</span><br><span class="line">		<span class="keyword">int</span> d_x = x + dx[dir];</span><br><span class="line">		<span class="keyword">int</span> d_y = y + dy[dir];</span><br><span class="line">		<span class="keyword">if</span> (isBound(d_x, d_y) &amp;&amp; !check[d_x][d_y]) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">abs</span>(<span class="built_in">map</span>[x][y] - <span class="built_in">map</span>[d_x][d_y]) &gt;= L &amp;&amp; <span class="built_in">abs</span>(<span class="built_in">map</span>[x][y] - <span class="built_in">map</span>[d_x][d_y]) &lt;= R) &#123;</span><br><span class="line">				dfs(d_x, d_y);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">task</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> change = <span class="literal">false</span>;</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (check[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">			sum = <span class="number">0</span>;</span><br><span class="line">			v.clear();</span><br><span class="line">			dfs(i, j);</span><br><span class="line">			<span class="keyword">if</span> (v.size() == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">auto</span> e : v) &#123;</span><br><span class="line">				<span class="built_in">map</span>[e.first][e.second] = sum / v.size();</span><br><span class="line">			&#125;</span><br><span class="line">			change = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> change;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;N, &amp;L, &amp;R);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (task()) &#123; ans++; &#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/15686/">백준 15686번 치킨 배달</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="15686-치킨-배달"><a href="#15686-치킨-배달" class="headerlink" title="#15686. 치킨 배달"></a>#15686. 치킨 배달</h1><p><a href="https://www.acmicpc.net/problem/15686" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></p>
<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li>N x N 도시</li>
<li>0: 빈 칸, 1: 집, 2: 치킨 집</li>
<li>도시의 치킨 거리는 모든 집의 치킨 거리의 합</li>
<li>치킨 거리 ( 집: (r1, c1) 치킨집: (r2, c2) )<br>집과 가장 가까운 치킨집 사이의 거리를 말한다.</li>
</ul>
<script type="math/tex; mode=display">|r_1-r_2| +|c_1-c_2|</script><p><strong>Goal: 치킨집 중에서 최대 M개를 골랐을 때 도시의 치킨 거리 최솟값</strong></p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>치킨 집을 M개 고르는 모든 조합 구하기</li>
</ul>
<p>해당 집을 고르면 배열에 넣고 아니면 넣지 않음<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">combination</span><span class="params">(<span class="keyword">int</span> idx)</span> </span>&#123; </span><br><span class="line">	<span class="keyword">if</span> (select_idx == m) &#123;</span><br><span class="line">		BFS 이용하여 치킨 거리 구하기</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (idx == total_chicken) <span class="keyword">return</span>;</span><br><span class="line">	combination(idx + <span class="number">1</span>); <span class="comment">// 선택하지 않기</span></span><br><span class="line">	select[select_idx++] = idx;</span><br><span class="line">	combination(idx + <span class="number">1</span>); <span class="comment">// 선택하기</span></span><br><span class="line">	select_idx--; <span class="comment">// 다른 경우의 수를 위해 인덱스 빼주기 (중요)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><strong>중요</strong>라고 되어있는 부분을 작성하지 않으면 모든 경우의 수를 구할 수 없다. 경우의 수가 꼬여버림. </p>
<p>4개 중에 2개를 고른다고 하면<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">comb(<span class="number">0</span>)</span><br><span class="line">	comb(<span class="number">1</span>)</span><br><span class="line">		comb(<span class="number">2</span>)</span><br><span class="line">			comb(<span class="number">3</span>)</span><br><span class="line">			...</span><br><span class="line">		이런식으로 호출이 이루어지기에 (<span class="number">3</span>, <span class="number">2</span>) 경우가 먼저 완성된다.</span><br><span class="line">		완성되고 BFS이용하여 치킨 거리 구하고 <span class="keyword">return</span>되면 select_idx를 빼준다.</span><br><span class="line">		그럼 <span class="number">2</span>자리에 다른 경우가 넣어질 수 있다. (<span class="number">3</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>각 조합에 대한 최소한의 치킨 거리 구하기</li>
</ul>
<p>BFS를 이용하여 한 칸씩 갈 때 1초 증가</p>
<p>그러다 1을 만나면 해당 초를 더 해준다.<br>BFS를 이용하면 동시에 1을 만나기에 time만 더해주어서는 안된다.<br>동시에 발견한 집의 수만큼 time을 더해주어야 한다.</p>
<p>모든 1을 만났으면 종료<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> time = <span class="number">0</span>, house = <span class="number">0</span>, dist = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; select_idx; ++i) &#123;</span><br><span class="line">		q.push(&#123; chicken[select[i]].r, chicken[select[i]].c &#125;); </span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">		time++;</span><br><span class="line">		<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> len = q.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">			<span class="keyword">int</span> r = q.front().first;</span><br><span class="line">			<span class="keyword">int</span> c = q.front().second;</span><br><span class="line">			q.pop();</span><br><span class="line">			check[r][c] = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">				<span class="keyword">int</span> x = r + dx[i];</span><br><span class="line">				<span class="keyword">int</span> y = c + dy[i];</span><br><span class="line">				<span class="keyword">if</span> (isBound(x, y) &amp;&amp; !check[x][y]) &#123;</span><br><span class="line">					check[x][y] = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">if</span> (city[x][y] == <span class="number">1</span>) &#123;</span><br><span class="line">						house++; cnt++;</span><br><span class="line">					&#125;</span><br><span class="line">					q.push(&#123; x, y &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		dist += time * cnt; <span class="comment">// 해당 초에 만난 집의 수 만큼 이동거리 더해주기</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>이 중 가장 최소인 치킨 거리 구하기</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dist += time * cnt; <span class="comment">// 해당 초에 만난 집의 수 만큼 이동거리 더해주기</span></span><br><span class="line"><span class="keyword">if</span> (total_house == house) &#123;</span><br><span class="line">	answer = answer &gt; dist ? dist : answer;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3></li>
<li><p>컴파일 에러 (index라는 변수명은 기피하자…) <strong>select_idx</strong>로 변경</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 51</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, total_chicken, total_house, index, answer;</span><br><span class="line"><span class="keyword">int</span> city[MAX][MAX];</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> select[<span class="number">13</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">INFO</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c;</span><br><span class="line">&#125;chicken[<span class="number">13</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; n &amp;&amp; c &lt; n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> time = <span class="number">0</span>, house = <span class="number">0</span>, dist = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; ++i) &#123;</span><br><span class="line">		q.push(&#123; chicken[select[i]].r, chicken[select[i]].c &#125;); <span class="comment">// 선택한 치킨집 queue에 저장</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">		time++;</span><br><span class="line">		<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> len = q.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">			<span class="keyword">int</span> r = q.front().first;</span><br><span class="line">			<span class="keyword">int</span> c = q.front().second;</span><br><span class="line">			q.pop();</span><br><span class="line">			check[r][c] = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">				<span class="keyword">int</span> x = r + dx[i];</span><br><span class="line">				<span class="keyword">int</span> y = c + dy[i];</span><br><span class="line">				<span class="keyword">if</span> (isBound(x, y) &amp;&amp; !check[x][y]) &#123;</span><br><span class="line">					check[x][y] = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">if</span> (city[x][y] == <span class="number">1</span>) &#123;</span><br><span class="line">						house++; cnt++;</span><br><span class="line">					&#125;</span><br><span class="line">					q.push(&#123; x, y &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		dist += time * cnt; <span class="comment">// 해당 초에 만난 집의 수 만큼 이동거리 더해주기</span></span><br><span class="line">		<span class="keyword">if</span> (total_house == house) &#123;</span><br><span class="line">			answer = answer &gt; dist ? dist : answer;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">combination</span><span class="params">(<span class="keyword">int</span> idx)</span> </span>&#123; <span class="comment">// M개를 선택하는 모든 경우의 수 구하기</span></span><br><span class="line">	<span class="keyword">if</span> (index == m) &#123;</span><br><span class="line">		bfs();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (idx == total_chicken) <span class="keyword">return</span>;</span><br><span class="line">	combination(idx + <span class="number">1</span>);</span><br><span class="line">	select[index++] = idx;</span><br><span class="line">	combination(idx + <span class="number">1</span>);</span><br><span class="line">	index--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;city[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (city[i][j] == <span class="number">2</span>) &#123; <span class="comment">// 치킨집 정보 저장</span></span><br><span class="line">				chicken[total_chicken].r = i;</span><br><span class="line">				chicken[total_chicken++].c = j;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (city[i][j] == <span class="number">1</span>) total_house++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	answer = <span class="number">1e9</span>;</span><br><span class="line">	combination(<span class="number">0</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-Try"><a href="#2-Try" class="headerlink" title="2 Try"></a>2 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 51</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, total_chicken, total_house, select_idx, answer;</span><br><span class="line"><span class="keyword">int</span> city[MAX][MAX];</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> select[<span class="number">13</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">INFO</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c;</span><br><span class="line">&#125;chicken[<span class="number">13</span>];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; n &amp;&amp; c &lt; n) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> time = <span class="number">0</span>, house = <span class="number">0</span>, dist = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; select_idx; ++i) &#123;</span><br><span class="line">		q.push(&#123; chicken[select[i]].r, chicken[select[i]].c &#125;); <span class="comment">// 선택한 치킨집 queue에 저장</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">		time++;</span><br><span class="line">		<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> len = q.size();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">			<span class="keyword">int</span> r = q.front().first;</span><br><span class="line">			<span class="keyword">int</span> c = q.front().second;</span><br><span class="line">			q.pop();</span><br><span class="line">			check[r][c] = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i) &#123;</span><br><span class="line">				<span class="keyword">int</span> x = r + dx[i];</span><br><span class="line">				<span class="keyword">int</span> y = c + dy[i];</span><br><span class="line">				<span class="keyword">if</span> (isBound(x, y) &amp;&amp; !check[x][y]) &#123;</span><br><span class="line">					check[x][y] = <span class="literal">true</span>;</span><br><span class="line">					<span class="keyword">if</span> (city[x][y] == <span class="number">1</span>) &#123;</span><br><span class="line">						house++; cnt++;</span><br><span class="line">					&#125;</span><br><span class="line">					q.push(&#123; x, y &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		dist += time * cnt; <span class="comment">// 해당 초에 만난 집의 수 만큼 이동거리 더해주기</span></span><br><span class="line">		<span class="keyword">if</span> (total_house == house) &#123;</span><br><span class="line">			answer = answer &gt; dist ? dist : answer;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">combination</span><span class="params">(<span class="keyword">int</span> idx)</span> </span>&#123; <span class="comment">// M개를 선택하는 모든 경우의 수 구하기</span></span><br><span class="line">	<span class="keyword">if</span> (select_idx == m) &#123;</span><br><span class="line">		bfs();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (idx == total_chicken) <span class="keyword">return</span>;</span><br><span class="line">	combination(idx + <span class="number">1</span>);</span><br><span class="line">	select[select_idx++] = idx;</span><br><span class="line">	combination(idx + <span class="number">1</span>);</span><br><span class="line">	select_idx--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;city[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (city[i][j] == <span class="number">2</span>) &#123; <span class="comment">// 치킨집 정보 저장</span></span><br><span class="line">				chicken[total_chicken].r = i;</span><br><span class="line">				chicken[total_chicken++].c = j;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (city[i][j] == <span class="number">1</span>) total_house++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	answer = <span class="number">1e9</span>;</span><br><span class="line">	combination(<span class="number">0</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/15685/">백준 15685번 드래곤 커브</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="15685-드래곤-커브"><a href="#15685-드래곤-커브" class="headerlink" title="#15685. 드래곤 커브"></a>#15685. 드래곤 커브</h1><p><a href="https://www.acmicpc.net/problem/15685" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></p>
<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li>좌표 평면</li>
<li>3가지 속성</li>
</ul>
<ol>
<li>시작 점</li>
<li>시작 방향<br>0:  x 좌표 증가 → 방향<br>1:  y 좌표 감소  ↑ 방향<br>2:  x 좌표 감소 ← 방향<br>3:  y 좌표 증가  ↓ 방향</li>
<li>세대</li>
</ol>
<ul>
<li>0세대: 길이가 1인 선분</li>
<li>1세대: 0세대 드래곤 커브 <strong>끝 점을 기준으로</strong> 시계 방향 90도 회전시켜 0세대 끝 점에 붙인 것</li>
<li>2세대: 1세대를 이용하여 1세대를 만든 것처럼 만든다.</li>
<li>N세대: N-1세대 커브를 끝 점 기준으로 90도 시계 방향 회전시킨 것을 붙인 것</li>
<li><p>입력</p>
<p>  드래곤 커브 개수 N (~20)<br>  x, y (드래곤 커브 시작 점) ~100<br>  d (시작 방향)<br>  g (세대) ~10</p>
</li>
</ul>
<p>드래곤 커브는 서로 겹칠 수 있다.</p>
<p><strong>Goal: 만들어진 드래곤 커브에서 정사각형 4개의 꼭짓점이 모두 드래곤 커브의 일부인 것의 개수를 구하기 (모양이 정사각형이 아니어도 4개의 꼭짓점만 만족하면 된다.)</strong></p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>끝점을 기준으로 시계방향 90도를 했을 때 각 방향의 이동은 다음과 같다.</li>
</ul>
<ol>
<li>0 → 1</li>
<li>1 → 2</li>
<li>2 → 3</li>
<li>3 → 0</li>
</ol>
<p>아래 그림 참고.</p>
<p><img src="https://user-images.githubusercontent.com/46062199/73121639-950a3900-3fbf-11ea-871d-edcf306df4a5.png" alt></p>
<ul>
<li>드래곤 커브를 그려주는 건 check 배열로 수행한다.<br>(겹쳐도 되니까 초기화할 필요 없다.)</li>
<li>방향만 배열에 저장해주면 된다.</li>
<li><p>끝점에서 이동을 수행하니 위치 좌표는 끝점만 알면된다.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// input : 3 3 0 1</span></span><br><span class="line">(<span class="number">3</span>, <span class="number">3</span>) : 처음 시작 위치</span><br><span class="line">(<span class="number">4</span>, <span class="number">3</span>) : <span class="number">0</span>세대 <span class="comment">// 위치 좌표: (4, 3) 방향 0</span></span><br><span class="line">(<span class="number">4</span>, <span class="number">2</span>) : <span class="number">1</span>세대 <span class="comment">// 위치 좌표: (4, 2) 방향 0, 1</span></span><br><span class="line">(<span class="number">3</span>, <span class="number">2</span>), (<span class="number">3</span>, <span class="number">1</span>) : <span class="number">2</span>세대 <span class="comment">// 위치 좌표: (3, 2) -&gt; (3,1) 방향 0, 1, 2, 1</span></span><br></pre></td></tr></table></figure>
<p>2세대 설명: 1세대에서 방향이 [0, 1]로 저장되어 있다. 끝점부터 시작하기에 방향 1이 시계방향으로 90도 회전하면 방향 2가 된다. [0, 1, 2]<br>이후 0이 시계방향으로 90도 회전하면 방향 1이된다. [0, 1, 2, 1]</p>
</li>
<li><p>드래곤 커브 위의 규칙대로 그리기</p>
</li>
</ul>
<p>0세대 까지 그려놓고 (0세대가 아니라면) 1세대부터 그린다.</p>
<p>direction 배열에 위의 [0, 1, 2, 1]과 같은 값이 들어간다.<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> clockwise[<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> d, <span class="keyword">int</span> g)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">	check[y][x] = <span class="literal">true</span>;</span><br><span class="line">	direction[idx++] = d;</span><br><span class="line">	<span class="keyword">while</span>(g--) &#123;</span><br><span class="line">		<span class="keyword">int</span> len = idx;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = len<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">			d = clockwise[direction[i]];</span><br><span class="line">			x += dx[d];</span><br><span class="line">			y += dy[d];</span><br><span class="line">			<span class="keyword">if</span> (x &gt; <span class="number">-1</span> &amp;&amp; y &gt; <span class="number">-1</span> &amp;&amp; x &lt; MAX &amp;&amp; y &lt; MAX) &#123;</span><br><span class="line">				check[y][x] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			direction[idx++] = d;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>4개의 꼭짓점 확인</li>
</ul>
<p>배열은 최대 100 x 100의 크기를 가지기에 0~99까지 check 값이 존재할 수 있다. (사실상 98까지만 확인하면 된다.)</p>
<pre><code>1 1   (0, 0)을 기준으로 오른쪽, 아래, 오른쪽 아래 대각선만 확인하면 된다.
1 1
</code></pre><h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 101</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">bool</span> check[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> clockwise[<span class="number">4</span>] = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> direction[MAX*MAX];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">draw</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> d, <span class="keyword">int</span> g)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">	check[y][x] = <span class="literal">true</span>;</span><br><span class="line">	direction[idx++] = d;</span><br><span class="line">	<span class="keyword">while</span>(g--) &#123;</span><br><span class="line">		<span class="keyword">int</span> len = idx;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = len<span class="number">-1</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">			d = clockwise[direction[i]];</span><br><span class="line">			x += dx[d];</span><br><span class="line">			y += dy[d];</span><br><span class="line">			<span class="keyword">if</span> (x &gt; <span class="number">-1</span> &amp;&amp; y &gt; <span class="number">-1</span> &amp;&amp; x &lt; MAX &amp;&amp; y &lt; MAX) &#123;</span><br><span class="line">				check[y][x] = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			direction[idx++] = d;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, x, y, d, g, answer = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d %d %d %d"</span>, &amp;x, &amp;y, &amp;d, &amp;g);</span><br><span class="line">		check[y][x] = <span class="literal">true</span>;</span><br><span class="line">		x += dx[d];</span><br><span class="line">		y += dy[d];</span><br><span class="line">		draw(x, y, d, g);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">99</span>; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= <span class="number">99</span>; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (check[i][j]) &#123;</span><br><span class="line">				<span class="keyword">if</span> (check[i + <span class="number">1</span>][j] &amp;&amp; check[i][j + <span class="number">1</span>] &amp;&amp; check[i + <span class="number">1</span>][j + <span class="number">1</span>]) answer++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/15684/">백준 15684번 사다리 조작</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="15684-사다리-조작"><a href="#15684-사다리-조작" class="headerlink" title="#15684. 사다리 조작"></a>#15684. 사다리 조작</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="http://acmicpc.net/problem/15684" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>처음에 감이 안잡혀서 어떻게 풀지 막막했었다.</li>
<li>입력값을 보고 사다리 정보를 어떤 식으로 저장할건지가 첫 스타트이자 포인트다.<br>이렇게 data가 보여야 조합도 어떤식으로 구성할지 생각나기 때문이다.</li>
<li>작업은 2개로 나뉜다.<ol>
<li>조합 구하기</li>
<li>사다리 타기</li>
</ol>
</li>
<li>조합 구하기</li>
</ul>
<p>조합을 구하기 전에 입력값이 어떻게 들어오나 확인해보자.</p>
<p>a b가 입력되면 a행에 b열 사다리와 b+1열 사다리가 연결된다.<br>이를 array[a][b] = 1(사다리 있음)으로 표시하면 b+1로 갈 수 있다는 뜻이다.<br>반대로 b+1지점에서 array[a][b]값이 1인걸 확인하면 b로 갈 수 있다는 뜻이다.</p>
<p>이를 활용하여 조합을 구해보자.</p>
<p>모든 행의 1열부터 N-1열까지 탐색해야 한다.<br>단, 현재 위치뿐만 아니라 자신의 왼쪽, 오른쪽도 확인해야 한다. (연속으로 설치하지 못하기 때문)<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>행 <span class="number">1</span>열 선택 시 다음 가능한 경우 (N에 표시하는 것은 의미 X - 입력값 생각)</span><br><span class="line"> <span class="number">1</span>행 - <span class="number">1</span>(x), <span class="number">2</span>(x), <span class="number">3</span> ... N<span class="number">-1</span></span><br><span class="line"> <span class="number">2</span>행 - <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ... N<span class="number">-1</span></span><br><span class="line"> ...</span><br><span class="line"> H행 - <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ... N<span class="number">-1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = idx; i &lt;= H; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; N; ++j) &#123; </span><br><span class="line">			<span class="keyword">if</span> (visit[i][j]) <span class="keyword">continue</span>; <span class="comment">// 현재 확인</span></span><br><span class="line">			<span class="keyword">if</span> (j &gt; <span class="number">1</span> &amp;&amp; visit[i][j - <span class="number">1</span>]) <span class="keyword">continue</span>; <span class="comment">// 왼쪽 확인</span></span><br><span class="line">			<span class="keyword">if</span> (visit[i][j + <span class="number">1</span>]) <span class="keyword">continue</span>; <span class="comment">// 오른쪽 확인</span></span><br><span class="line">			visit[i][j] = <span class="literal">true</span>; <span class="comment">// 선택 표시</span></span><br><span class="line">			selectAll(i, cnt + <span class="number">1</span>); <span class="comment">// 다음 선택</span></span><br><span class="line">			visit[i][j] = <span class="literal">false</span>; </span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, H, ans;</span><br><span class="line"><span class="keyword">bool</span> visit[<span class="number">31</span>][<span class="number">11</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Input</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	ans = <span class="number">4</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; H;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> a, b;  <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">		visit[a][b] = <span class="literal">true</span>; <span class="comment">// a행 b - b+1 사다리</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">Check</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= N; ++j) &#123;</span><br><span class="line">		<span class="keyword">int</span> current_num = j;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= H; ++i) &#123;</span><br><span class="line">			<span class="keyword">if</span> (visit[i][current_num]) &#123; <span class="comment">// 오른쪽 사다리로 이동</span></span><br><span class="line">				current_num++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (current_num &gt; <span class="number">1</span> &amp;&amp; visit[i][current_num <span class="number">-1</span>]) &#123; <span class="comment">// 왼쪽 사다리로 이동</span></span><br><span class="line">				current_num--;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (current_num != j) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectAll</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt &gt; ans) <span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">if</span> (cnt == <span class="number">4</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (Check()) &#123;</span><br><span class="line">		<span class="keyword">if</span> (ans &gt; cnt) ans = cnt;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = idx; i &lt;= H; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; N; ++j) &#123; <span class="comment">// 5번 사다리는 확인할 필요 없다. (입력값 생각)</span></span><br><span class="line">			<span class="keyword">if</span> (visit[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (j &gt; <span class="number">1</span> &amp;&amp; visit[i][j - <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (visit[i][j + <span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">			visit[i][j] = <span class="literal">true</span>;</span><br><span class="line">			selectAll(i, cnt + <span class="number">1</span>);</span><br><span class="line">			visit[i][j] = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Input();</span><br><span class="line">	selectAll(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">if</span> (ans == <span class="number">4</span>) ans = <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://images.unsplash.com/photo-1555306210-a7dacfb0f72c?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2250&amp;q=80)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 By Geum Doyun</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="external nofollow noopener noreferrer"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>