<!DOCTYPE html><html lang="ko"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content><meta name="keywords" content><meta name="author" content="Geum Doyun"><meta name="copyright" content="Geum Doyun"><title>JUST WRITE IT.</title><link rel="shortcut icon" href="/giraff-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-8552652691432976',
  enable_page_level_ads: 'true'
});
</script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-156904476-1', 'auto');
ga('send', 'pageview');</script><link rel="canonical" href="https://doyuni.github.io/"><meta name="naver-site-verification" content="16f3853746fac18344f4edb27f37ac59baa5014b"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"EHXLIPJCJ2","apiKey":"95bd4c12802939dde4c6a2e4cc9def3c","indexName":"my-blog","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/rss2.xml" title="JUST WRITE IT." type="application/rss+xml">
</head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Geum Doyun</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">59</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">9</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">6</span></a></div></div></div><nav id="nav" style="background-image: url(https://images.unsplash.com/photo-1555306210-a7dacfb0f72c?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2250&amp;q=80)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">JUST WRITE IT.</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="site-info"><div id="site-title">JUST WRITE IT.</div><div id="site-sub-title"></div><div id="site-social-icons"><a class="social-icon" href="https://github.com/Doyuni" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-github fab"></i></a><a class="social-icon" href="https://www.notion.so/doyunlog/Creative-Thinking-53b44cee1ba24b4eb91850bfdcc58ef3" target="_blank" rel="external nofollow noopener noreferrer"><i class="fa-blogger fab"></i></a><a class="social-icon" href="https://doyuni.github.io/rss2.xml" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-rss fas"></i></a></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/21/DevOps/cicd-1/">Jenkins, NAVER Cloud Platform, Docker로 CI/CD 무중단 배포 환경 구축하기 - 1편</a><span class="article-meta"><i class="fa fa-thumb-tack article-meta__icon sticky"></i><span class="sticky">Sticky</span><span class="article-meta__separator" style="margin-right: 0.3rem">|</span></span><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-21</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DevOps/">DevOps</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DevOps/CI-CD/">CI/CD</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/NAVER-CLOUD/">NAVER CLOUD</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Jenkins/">Jenkins</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/CI-CD/">CI/CD</a></span><div class="content"><p>이번 내용은 필자가 프로젝트를 진행하면서 처음으로 DevOps를 맡으면서 꼭 공유 하겠다고 마음 먹고 작성하였다.</p>
<h2 id="CI-CD란"><a href="#CI-CD란" class="headerlink" title="CI/CD란?"></a>CI/CD란?</h2><ul>
<li><p>CI(Continuous Integration)<br>지속적인 통합을 의미한다. 이는 개발자를 위한 자동화 프로세스 중 하나이며 어플리케이션을 변경할 때 자동으로 빌드 및 테스트되어 Github 공유 레포지토리에 병합된다. 그렇기에 협업 시 발생할 수 있는 충돌문제를 해결할 수 있다.</p>
</li>
<li><p>CD(Continuous Deployment)<br>지속적인 배포를 의미한다. 어플리케이션 변경 사항이 반영된 공유 레포지토리에서 사용자가 사용 가능한 환경까지 자동으로 배포하는 것을 말한다. 이를 통해 어플리케이션을 원활히 그리고 더 빠르게 제공하므로써 사용자의 피드백을 빠르게 반영할 수 있다.</p>
</li>
</ul>
<p>아래는 필자가 맡은 프로젝트의 전체 시스템 구조이면서 동시에, CI/CD 과정을 볼 수 있다. </p>
<h2 id="전체-시스템-구조"><a href="#전체-시스템-구조" class="headerlink" title="전체 시스템 구조"></a>전체 시스템 구조</h2><p><img src="https://images.velog.io/post-images/doyuni/2b871b30-2d11-11ea-8e78-f3280e026905/Untitled.png" alt></p>
<p>대부분 Travis CI, AWS, Docker, NGINX를 사용하여 CI/CD 무중단 배포를 구축한다는 점에서 비교하여 보아도 좋을 것이다.</p>
<h2 id="선택의-순간들"><a href="#선택의-순간들" class="headerlink" title="선택의 순간들"></a>선택의 순간들</h2><h3 id="AWS가-아닌-NAVER-CLOUD-선택"><a href="#AWS가-아닌-NAVER-CLOUD-선택" class="headerlink" title="AWS가 아닌 NAVER CLOUD 선택"></a>AWS가 아닌 NAVER CLOUD 선택</h3><p>AWS와 NAVER Cloud Platform을 사용해 보면서 느낀 것은 확실히 AWS의 기능이 훨씬 많고 유용하다.<br>그럼에도 NAVER Cloud Platform을 사용한 것은 40만 크레딧(지원 받았다.)이 제일 컸다.<br>AWS에는 무중단 배포까지 지원하는 서비스인 Blue-Green Deployment가 있는데 반해 NAVER Cloud는 없다…<br>그럼 굳이 왜 AWS를 선택하지 않았냐고 할 수 있는데 내가 직접 설정해서 구축하고 싶었기 때문이다. (사서 고생한다는 얘기)</p>
<h3 id="Travis가-아닌-Jenkins-선택"><a href="#Travis가-아닌-Jenkins-선택" class="headerlink" title="Travis가 아닌 Jenkins 선택"></a>Travis가 아닌 Jenkins 선택</h3><p>Travis reference만 보아도 AWS랑 얼마나 죽이 잘 맞는지를 알 수 있다. (AWS말고도 Google Cloud, Azure도 지원한다.) 이미 NAVER Cloud를 선택한 이상 Travis는 더 어려운 방법으로 가는 길이라 생각했다. 오히려 설정할 수 있는 범위가 넓은 Jenkins를 택하는 것이 쉽다고 판단하였다. 처음에 AWS와 Travis로 자동화 배포 환경 구축을 연습했었는데, 개인적인 입장으로는 Jenkins가 좀 더 쉬운 것 같다.</p>
<p>40만 크레딧의 위엄으로 Jenkins를 도커가 아닌 Naver Cloud로 서버를 따로 구축했다. 지금 생각해보면 자원 낭비인 셈이지만 안정성 측면에서는 따로 서버를 두는 것이 좋다.</p>
<h1 id="환경-구축하기"><a href="#환경-구축하기" class="headerlink" title="환경 구축하기"></a>환경 구축하기</h1><p>NAVER Cloud 사용 설명서는 무척 잘 되어 있고 AWS의 EC2나 S3와 같은 개념과 똑같기에 같은 방식으로 설정하면 된다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/6081e180-2d11-11ea-8db4-a3d765df2b82/Untitled-1.png" alt></p>
<ul>
<li>NAVER Cloud의 Server = AWS의 EC2</li>
<li>NAVER Cloud의 Object Storage = AWS의 S3</li>
</ul>
<p>아래와 같이 SourcePipeline 서비스를 이용하면 Github에서 push한 것을 자동으로 빌드하고 배포할 수 있는데, 아래 사진 우측 상단에 보이는 파이프라인 실행하기를 매번 클릭해줘야 한다…내가 원한건 push만 해도 자동화 빌드 및 배포이다. 결국 이걸 접고 Jenkins와 NAVER Cloud의 Server만 사용하기로 결정했다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/67d4e180-2d11-11ea-8db4-a3d765df2b82/Untitled-2.png" alt></p>
<h2 id="1-Jenkins-설정하기"><a href="#1-Jenkins-설정하기" class="headerlink" title="1. Jenkins 설정하기"></a>1. Jenkins 설정하기</h2><p>Docker로 Jenkins 서버를 운영해도 되지만 NAVER Cloud에서 다음과 같이 지원하기에 사용하였다.<br>다만 수동으로 최신 업데이트 하는 것을 권장한다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/8fd2c3f0-2d11-11ea-8e78-f3280e026905/Untitled-3.png" alt></p>
<h3 id="1-1-Jenkins-보안-설정"><a href="#1-1-Jenkins-보안-설정" class="headerlink" title="1-1. Jenkins 보안 설정"></a>1-1. Jenkins 보안 설정</h3><p>Jenkins는 기본적으로 보안 설정이 되어있지 않다.<br>Jenkins 관리 &gt; Configure Global Security에서 설정할 수 있다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/959ba180-2d11-11ea-89ca-7dd4c2f1609a/Untitled-4.png" alt></p>
<ul>
<li>처음에 사용자의 가입을 허용하여 admin 계정을 생성한다. 팀원과 함께 작업한다면 팀원 각각 계정 생성하도록 둔다.</li>
<li>계정 생성을 끝냈으면 ‘Matrix-based security’를 적절히 설정한다. (없다면 Matrix Authorization Strategy Plugin를 설치하자.)<br>필자는 익명에게 읽기 권한 중 Job(Jenkins 작업 단위) 부분만 볼 수 있게 하였다. 이는 나중에 설정할 Github의 build status를 보여주기 위함이다.<br>그리고 혼자 환경 구축을 담당 하였기에 팀원 계정 역시 익명과 같은 권한을 주었다.</li>
</ul>
<h3 id="1-2-플러그인-설치하기"><a href="#1-2-플러그인-설치하기" class="headerlink" title="1-2. 플러그인 설치하기"></a>1-2. 플러그인 설치하기</h3><p>Jenkins 관리 &gt; 플러그인 관리</p>
<ul>
<li>Github plugin: Jenkins와 Github 통합</li>
<li>Global Slack Notifier Plugin: Slack 연동(Job 알림 설정)</li>
<li>Publish Over SSH: ssh로 빌드 파일 보내기</li>
<li>Embeddable Build Status Plugin: Github 레포지토리에 빌드 상태바 생성</li>
<li>Managed Scripts: Node.js 기반의 서버를 배포하기 위한 스크립트</li>
</ul>
<h3 id="1-3-Jenkins-Global-설정하기"><a href="#1-3-Jenkins-Global-설정하기" class="headerlink" title="1-3. Jenkins Global 설정하기"></a>1-3. Jenkins Global 설정하기</h3><p>Jenkins 관리 &gt; 시스템 설정 &gt; GitHub Servers에서 다음과 같이 설정한다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/9d14c720-2d11-11ea-89ca-7dd4c2f1609a/Untitled-5.png" alt></p>
<p>Credentials 설정을 위해 자신의 Github &gt; Settings &gt; Developer settings &gt; Personal access tokens에서 다음과 같이 토큰을 생성한다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/a3d8a680-2d11-11ea-89ca-7dd4c2f1609a/Untitled-6.png" alt></p>
<p>생성 후 화면에 보이는 secret 문자열을 아래의 Secret에 입력한다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/a7fd22e0-2d11-11ea-89ca-7dd4c2f1609a/Untitled-7.png" alt></p>
<h3 id="1-4-프로젝트-생성-및-설정하기"><a href="#1-4-프로젝트-생성-및-설정하기" class="headerlink" title="1-4. 프로젝트 생성 및 설정하기"></a>1-4. 프로젝트 생성 및 설정하기</h3><p>새로운 Item을 클릭하고 프로젝트 이름을 입력, Freestyle을 누른다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/b08372c0-2d11-11ea-89ca-7dd4c2f1609a/Untitled-8.png" alt></p>
<ul>
<li>다음과 같이 프로젝트 url을 입력하고 Credentials를 설정한다.</li>
</ul>
<p><img src="https://images.velog.io/post-images/doyuni/b6af09c0-2d11-11ea-8db4-a3d765df2b82/Untitled-9.png" alt></p>
<p>이 작업은 Github을 연동하는 것인데, ID와 PW로 연동하면 보안에 취약하기에 ssh키로 연동하였다.</p>
<h3 id="ssh-키-생성하기"><a href="#ssh-키-생성하기" class="headerlink" title="ssh 키 생성하기"></a>ssh 키 생성하기</h3><ul>
<li>ssh로 Jenkins 서버에 원격 접속하여 다음을 입력한다.<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -f id_rsa</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://images.velog.io/post-images/doyuni/bbb4e570-2d11-11ea-89ca-7dd4c2f1609a/Untitled-10.png" alt></p>
<p><code>id_rsa</code>, <code>id_rsa.pub</code> 를 포함해 총 4개의 키가 생성된다.</p>
<ul>
<li>아래 Add 표시를 눌러 <code>cat ~/.ssh/id_rsa</code> 입력 후 나오는 private key를 넣어준다</li>
</ul>
<p><img src="https://images.velog.io/post-images/doyuni/c1bacc00-2d11-11ea-8e78-f3280e026905/Untitled-11.png" alt></p>
<p>BEGIN ~부터 모두 복사하여 입력한다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/cb35dc20-2d11-11ea-8e78-f3280e026905/Untitled-12.png" alt></p>
<ul>
<li>Github에 공개 키 등록하기.</li>
</ul>
<p><img src="https://images.velog.io/post-images/doyuni/d2eaab30-2d11-11ea-8e78-f3280e026905/Untitled-13.png" alt></p>
<p><code>cat ~/.ssh/id_rsa.pub</code> 를 입력하면 나오는 공개 키를 프로젝트 레포지토리의 Setting &gt; Deploy keys에 등록한다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/d9ebe1b0-2d11-11ea-89ca-7dd4c2f1609a/Untitled-14.png" alt></p>
<p>이제 Jenkins과 Github을 연동시켰기에, Jenkins에 코드를 가져올 수 있게 되었다.</p>
<ul>
<li>다음으로는 push했을 때 Jenkins가 push 이벤트를 받을 수 있도록 설정 해보자.<br>마찬가지로 레포지토리의 setting &gt; webhooks 에서 빨간색 네모박스에 Jenkins ip 주소를 입력하고 나머지는 그대로 입력한다.</li>
</ul>
<p><img src="https://images.velog.io/post-images/doyuni/df2a0b70-2d11-11ea-89ca-7dd4c2f1609a/Untitled-15.png" alt></p>
<ul>
<li>Github에서의 설정은 끝났고 Jenkins 프로젝트에서 다음을 체크함으로써 이벤트 설정은 끝이 났다.<br>이젠 push만 하면 Jenkins 해당 프로젝트에서 빌드가 시작됨을 볼 수 있다.</li>
</ul>
<p><img src="https://images.velog.io/post-images/doyuni/e2e69e40-2d11-11ea-8e78-f3280e026905/Untitled-16.png" alt></p>
<p> 빌드 기록을 통해 소스 코드가 빌드 중인지 빌드 완료 되었는지를 확인할 수 있다.</p>
<p><img src="https://images.velog.io/post-images/doyuni/e86c0a30-2d11-11ea-8e78-f3280e026905/Untitled-17.png" alt></p>
<p>이것으로 Jenkins로 CI 환경 구축은 끝이 났다. 2편에서는 CD 환경 구축과 무중단 배포를 구축해보겠다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17472/">백준 17472번 다리 만들기 2</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17472-다리-만들기-2"><a href="#17472-다리-만들기-2" class="headerlink" title="#17472. 다리 만들기 2"></a>#17472. 다리 만들기 2</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17472" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ol>
<li>각 섬에 고유 번호 붙이기(오름차순)<br>섬끼리 연결을 해야하기 때문에 이를 식별해주어야 한다.<br>BFS or DFS를 이용하여 구할 수 있고 필자는 BFS를 사용하였다.</li>
<li>각 섬들마다 연결시키는 모든 경우를 구하되, 각 경우마다 연결이 가능한지 거리를 측정하면서 확인한다.<br>→ 연결이 가능하면 해당 다리를 저장한다.(어디에서 어디로 연결되고 그럴 때 최소 비용 저장)</li>
<li>다리를 선택해서 1개 이상 선택했을 때부터 모든 섬을 연결 시킬 수 있는지 확인한다.<br>→ 모든 섬을 연결할 수 있으면 최소비용 갱신</li>
</ol>
<h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><ul>
<li><p>완탐 코드 보기</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, total_island, ans = <span class="number">1e9</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">bool</span> visited[<span class="number">10</span>][<span class="number">10</span>]; <span class="comment">// 섬에 번호 붙일 때 방문 체크 용도</span></span><br><span class="line"><span class="keyword">int</span> dist[<span class="number">7</span>][<span class="number">7</span>]; <span class="comment">// dist[a][b]: a에서 b로 가는 경로 비용, 기본값 1000</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; Island_pos[<span class="number">11</span>]; <span class="comment">// Island_pos[i]: i번 섬의 모든 좌표</span></span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;, <span class="keyword">int</span>&gt;&gt; bridge_list; <span class="comment">// a, b, c : a-&gt;b의 비용이 c인 다리 목록</span></span><br><span class="line"><span class="keyword">bool</span> connect[<span class="number">7</span>][<span class="number">7</span>]; <span class="comment">// a, b와의 연결 상태 확인 용도</span></span><br><span class="line"><span class="keyword">bool</span> connect_island[<span class="number">7</span>]; <span class="comment">// i번 섬의 방문 체크 용도</span></span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">7</span> * <span class="number">7</span>]; <span class="comment">// 간선의 모든 경우를 담기 위함( N(N-1)/2 )</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> id)</span> </span>&#123; <span class="comment">// 섬에 번호 붙이기</span></span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; q;</span><br><span class="line">	q.push(&#123; x, y &#125;);</span><br><span class="line">	visited[x][y] = <span class="literal">true</span>;</span><br><span class="line">	<span class="built_in">map</span>[x][y] = id;</span><br><span class="line">	Island_pos[id].push_back(&#123; x, y &#125;);</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x = q.front().first;</span><br><span class="line">		<span class="keyword">int</span> y = q.front().second;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">4</span>; ++dir) &#123;</span><br><span class="line">			<span class="keyword">int</span> d_x = x + dx[dir];</span><br><span class="line">			<span class="keyword">int</span> d_y = y + dy[dir];</span><br><span class="line">			<span class="keyword">if</span> (d_x &gt; <span class="number">-1</span> &amp;&amp; d_y &gt; <span class="number">-1</span> &amp;&amp; d_x &lt; N &amp;&amp; d_y &lt; M) &#123;</span><br><span class="line">				<span class="keyword">if</span> (visited[d_x][d_y] || <span class="built_in">map</span>[d_x][d_y] != <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">				visited[d_x][d_y] = <span class="literal">true</span>;</span><br><span class="line">				<span class="built_in">map</span>[d_x][d_y] = id;</span><br><span class="line">				Island_pos[id].push_back(&#123; d_x, d_y &#125;);</span><br><span class="line">				q.push(&#123; d_x, d_y &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Go</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y, <span class="keyword">int</span> dir, <span class="keyword">int</span> len, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123; <span class="comment">// 거리 측정하기</span></span><br><span class="line">	<span class="keyword">int</span> nx = x + dx[dir];</span><br><span class="line">	<span class="keyword">int</span> ny = y + dy[dir];</span><br><span class="line">	<span class="keyword">if</span> (nx &lt; <span class="number">0</span> || ny &lt; <span class="number">0</span> || nx &gt;= N || ny &gt;= M) <span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">map</span>[nx][ny] == end) &#123;</span><br><span class="line">		<span class="keyword">if</span> (len &gt; <span class="number">1</span>) &#123; <span class="comment">// 거리 2이상인 경우만 연결 가능</span></span><br><span class="line">			<span class="keyword">if</span> (dist[start][end] &gt; len) &#123; <span class="comment">// 최소 거리 갱신</span></span><br><span class="line">				dist[start][end] = len;</span><br><span class="line">				dist[end][start] = len;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">map</span>[nx][ny] == <span class="number">0</span>) Go(nx, ny, dir, len + <span class="number">1</span>, start, end);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MakeBridge</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//Start에 해당되는 섬의 모든 좌표를 end에 해당되는 섬까지 도달해본다.</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; Island_pos[start].size(); i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> x = Island_pos[start][i].first;</span><br><span class="line">		<span class="keyword">int</span> y = Island_pos[start][i].second;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">4</span>; ++dir) &#123;</span><br><span class="line">			<span class="keyword">int</span> nx = x + dx[dir];</span><br><span class="line">			<span class="keyword">int</span> ny = y + dy[dir];</span><br><span class="line">			<span class="keyword">if</span> (nx &gt; <span class="number">-1</span> &amp;&amp; ny &gt; <span class="number">-1</span> &amp;&amp; nx &lt; N &amp;&amp; ny &lt; M) &#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[nx][ny] == <span class="number">0</span>) Go(nx, ny, dir, <span class="number">1</span>, start, end); <span class="comment">// 한 방향으로 가야함, 0인 지점 방문이니 거리 1</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GetDistance</span><span class="params">()</span> </span>&#123; <span class="comment">// 섬들끼리 1:1로 연결시키는 모든 경우</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; total_island; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; total_island; j++)</span><br><span class="line">		&#123;</span><br><span class="line">			MakeBridge(i, j);</span><br><span class="line">			<span class="keyword">if</span> (dist[i][j] == <span class="number">1000</span>) <span class="keyword">continue</span>; <span class="comment">// 연결 불가능한 경우</span></span><br><span class="line">			bridge_list.push_back(&#123; &#123;i, j&#125;, dist[i][j] &#125;); <span class="comment">// (i -&gt; j : 비용) 저장</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CheckConnect</span><span class="params">()</span> </span>&#123; <span class="comment">// 조건에 맞게 모든 섬이 연결되어있는지 확인</span></span><br><span class="line">	<span class="built_in">memset</span>(connect, <span class="literal">false</span>, <span class="keyword">sizeof</span>(connect));</span><br><span class="line">	<span class="built_in">memset</span>(connect_island, <span class="literal">false</span>, <span class="keyword">sizeof</span>(connect_island));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; bridge_list.size(); i++) <span class="comment">// 선택한 다리 연결 표시</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[i]) &#123; <span class="comment">// 연결 표시 (x-&gt;y, y-&gt;x)</span></span><br><span class="line">			<span class="keyword">int</span> x = bridge_list[i].first.first;</span><br><span class="line">			<span class="keyword">int</span> y = bridge_list[i].first.second;</span><br><span class="line">			connect[x][y] = connect[y][x] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q; </span><br><span class="line">	q.push(<span class="number">1</span>); <span class="comment">// 1번 섬(섬은 최소 2개)</span></span><br><span class="line">	connect_island[<span class="number">1</span>] = <span class="literal">true</span>; <span class="comment">// 1번 섬 방문 체크 </span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> Island_cnt = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">bool</span> flag = <span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123; <span class="comment">// 모든 섬 방문가능한지 체크하는 부분</span></span><br><span class="line">		<span class="keyword">int</span> cur = q.front();</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">if</span> (Island_cnt == total_island - <span class="number">1</span>) &#123;</span><br><span class="line">			flag = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; total_island; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (cur == i) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (connect[cur][i] &amp;&amp; connect_island[i] == <span class="literal">false</span>) &#123; <span class="comment">// 현재 섬과 i번 섬이 연결되어있고 i번 섬을 방문하지 않았을 때</span></span><br><span class="line">				connect_island[i] = <span class="literal">true</span>;</span><br><span class="line">				q.push(i);</span><br><span class="line">				Island_cnt++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> flag;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectBridge</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> cnt, <span class="keyword">int</span> sum)</span> </span>&#123; </span><br><span class="line">	<span class="keyword">if</span> (cnt &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (CheckConnect() == <span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (ans &gt; sum) ans = sum;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = idx; i &lt; bridge_list.size(); ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[i] == <span class="literal">true</span>) <span class="keyword">continue</span>;</span><br><span class="line">		selected[i] = <span class="literal">true</span>;</span><br><span class="line">		SelectBridge(i, cnt + <span class="number">1</span>, sum + bridge_list[i].second);</span><br><span class="line">		selected[i] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">7</span>; j++) &#123;</span><br><span class="line">			dist[i][j] = <span class="number">1000</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; <span class="built_in">map</span>[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> id = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] != <span class="number">0</span> &amp;&amp; !visited[i][j]) BFS(i, j, id++);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	total_island = id;</span><br><span class="line">	GetDistance();</span><br><span class="line">	SelectBridge(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">if</span> (ans == <span class="number">1e9</span>) ans = <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Solution-1"><a href="#Solution-1" class="headerlink" title="Solution"></a>Solution</h3></li>
<li><p>위 방식에서 1, 2까지는 동일</p>
</li>
<li>크루스칼 알고리즘을 사용한다.</li>
</ul>
<h3 id="Answer-1"><a href="#Answer-1" class="headerlink" title="Answer"></a>Answer</h3><ul>
<li>코드 보기<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; d;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Bridge</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> from;</span><br><span class="line">	<span class="keyword">int</span> to;</span><br><span class="line">	<span class="keyword">int</span> len;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> N, M, total, ans = <span class="number">10000</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">bool</span> visited[<span class="number">10</span>][<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> parent[<span class="number">7</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;d&gt; island[<span class="number">7</span>];</span><br><span class="line"><span class="built_in">vector</span>&lt;Bridge&gt; bridge;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Go</span><span class="params">(<span class="keyword">int</span> from, <span class="keyword">int</span> to)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="number">10000</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; island[from].size(); i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> x = island[from][i].first;</span><br><span class="line">		<span class="keyword">int</span> y = island[from][i].second;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">4</span>; ++dir) &#123;</span><br><span class="line">			<span class="keyword">int</span> nx = x; <span class="keyword">int</span> ny = y;</span><br><span class="line">			<span class="keyword">int</span> cur = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (len &lt;= cur) <span class="keyword">break</span>;</span><br><span class="line">				nx += dx[dir];</span><br><span class="line">				ny += dy[dir];</span><br><span class="line">				<span class="keyword">if</span> (nx &lt; <span class="number">0</span> || ny &lt; <span class="number">0</span> || nx &gt;= N || ny &gt;= M) <span class="keyword">break</span>;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[nx][ny] == <span class="number">0</span>) &#123;</span><br><span class="line">					cur++;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">map</span>[nx][ny] == to) &#123;</span><br><span class="line">					<span class="keyword">if</span> (cur &lt; <span class="number">2</span>) <span class="keyword">break</span>;</span><br><span class="line">					<span class="keyword">if</span> (len &gt; cur) len = cur;</span><br><span class="line">					<span class="keyword">break</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">GetDistance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Bridge b;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= total; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt;= total; ++j) &#123;</span><br><span class="line">			b.from = i; b.to = j;</span><br><span class="line">			b.len = Go(i, j);</span><br><span class="line">			<span class="keyword">if</span> (b.len == <span class="number">10000</span>) <span class="keyword">continue</span>;</span><br><span class="line">			bridge.push_back(b);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c, <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;d&gt; q;</span><br><span class="line">	q.push(&#123; r, c &#125;);</span><br><span class="line">	visited[r][c] = <span class="literal">true</span>;</span><br><span class="line">	<span class="built_in">map</span>[r][c] = id;</span><br><span class="line">	island[id].push_back(&#123; r, c &#125;);</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x = q.front().first;</span><br><span class="line">		<span class="keyword">int</span> y = q.front().second;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">4</span>; ++dir) &#123;</span><br><span class="line">			<span class="keyword">int</span> nx = x + dx[dir];</span><br><span class="line">			<span class="keyword">int</span> ny = y + dy[dir];</span><br><span class="line">			<span class="keyword">if</span> (nx &lt; <span class="number">0</span> || ny &lt; <span class="number">0</span> || nx &gt;= N || ny &gt;= M) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[nx][ny] != <span class="number">1</span> || visited[nx][ny]) <span class="keyword">continue</span>;</span><br><span class="line">			visited[nx][ny] = <span class="literal">true</span>;</span><br><span class="line">			<span class="built_in">map</span>[nx][ny] = id;</span><br><span class="line">			island[id].push_back(&#123; nx, ny &#125;);</span><br><span class="line">			q.push(&#123; nx, ny &#125;);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MakeLabel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> id = <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] == <span class="number">0</span> || visited[i][j]) <span class="keyword">continue</span>;</span><br><span class="line">			BFS(i, j, id++);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	total = id - <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= total; ++i) &#123;</span><br><span class="line">		parent[i] = i;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(Bridge a, Bridge b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a.len &lt; b.len;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">FindParent</span><span class="params">(<span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (parent[idx] == idx) <span class="keyword">return</span> idx;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">return</span> FindParent(parent[idx]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Union</span><span class="params">(<span class="keyword">int</span> from, <span class="keyword">int</span> to)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> p1 = FindParent(parent[from]);</span><br><span class="line">	<span class="keyword">int</span> p2 = FindParent(parent[to]);</span><br><span class="line">	<span class="keyword">if</span> (p1 &lt; p2) &#123;</span><br><span class="line">		parent[to] = p1;</span><br><span class="line">		parent[p2] = p1;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		parent[from] = p2;</span><br><span class="line">		parent[p1] = p2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">CheckConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= total; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (FindParent(parent[i]) != <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Kruskal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	sort(bridge.begin(), bridge.end(), cmp);</span><br><span class="line">	<span class="keyword">int</span> cost = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; bridge.size(); ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> from = bridge[i].from; <span class="keyword">int</span> to = bridge[i].to;</span><br><span class="line">		<span class="keyword">if</span>(FindParent(from) == FindParent(to)) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			Union(from, to);</span><br><span class="line">			cost += bridge[i].len;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (CheckConnection()) ans = cost;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	MakeLabel();</span><br><span class="line">	GetDistance();</span><br><span class="line">	Kruskal();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; j++) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; <span class="built_in">map</span>[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	Solve();</span><br><span class="line">	<span class="keyword">if</span> (ans == <span class="number">10000</span>) ans = <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17471/">백준 17471번 게리맨더링</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17471-게리맨더링"><a href="#17471-게리맨더링" class="headerlink" title="#17471. 게리맨더링"></a>#17471. 게리맨더링</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17471" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>city[n][j] = n번째 구역과 인접한구역 j는 1로 표시, 아니면 0으로 표시</li>
</ul>
<ol>
<li>한 지역의 구역을 정한다. (중복x, 오름차순으로) - (1,2,3) 과 (2,1,3)은 같은 조합이기에</li>
<li><p>정한 구역이 이어져 있는지 DFS를 통해 확인한다.</p>
<ol>
<li>방문표시</li>
<li><p>전체 구역 탐색하여 해당 지역에 속하고 인접할 때, 해당 구역 탐색</p>
<p>DFS 시작 지점은 해당 지역에서 한 구역으로 지정한다. (그래야 모두 인접해있는지 확인 가능)</p>
<p>2개의 지역 모두 DFS 탐색 후에 check 표시가 모두 되어있지 않으면 <code>return</code>한다. </p>
<p>규칙에 맞게 구역이 나누어져 있지 않다는 뜻이기 때문이다.</p>
</li>
</ol>
</li>
</ol>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, ans = <span class="number">1e9</span>;</span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">11</span>];</span><br><span class="line"><span class="keyword">int</span> people[<span class="number">11</span>];</span><br><span class="line"><span class="keyword">int</span> city[<span class="number">11</span>][<span class="number">11</span>];</span><br><span class="line"><span class="keyword">bool</span> check[<span class="number">11</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getDifference</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a_sum = <span class="number">0</span>, b_sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[i]) a_sum += people[i];</span><br><span class="line">		<span class="keyword">else</span> b_sum += people[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> res = <span class="built_in">abs</span>(a_sum - b_sum);</span><br><span class="line">	<span class="keyword">if</span> (res &lt; ans) ans = res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">DFS</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> status)</span> </span>&#123;</span><br><span class="line">	check[n] = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (check[i]) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">if</span> (status == <span class="number">1</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (selected[i] &amp;&amp; city[n][i]) &#123;</span><br><span class="line">				check[i] = <span class="literal">true</span>;</span><br><span class="line">				DFS(i, status);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">if</span> (!selected[i] &amp;&amp; city[n][i]) &#123;</span><br><span class="line">				check[i] = <span class="literal">true</span>;</span><br><span class="line">				DFS(i, status);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Solve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(check, <span class="number">0</span>, <span class="keyword">sizeof</span>(check));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[i]) &#123;</span><br><span class="line">			DFS(i, <span class="number">1</span>); <span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!selected[i]) &#123;</span><br><span class="line">			DFS(i, <span class="number">0</span>); <span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (!check[i]) <span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	getDifference();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectArea</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt &gt;= N) <span class="keyword">return</span>;</span><br><span class="line">	<span class="keyword">if</span> (cnt &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">		Solve();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[i]) <span class="keyword">continue</span>;</span><br><span class="line">		selected[i] = <span class="literal">true</span>;</span><br><span class="line">		SelectArea(i, cnt + <span class="number">1</span>);</span><br><span class="line">		selected[i] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; people[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> cnt; <span class="built_in">cin</span> &gt;&gt; cnt;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cnt; ++j) &#123;</span><br><span class="line">			<span class="keyword">int</span> n; <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">			city[i][n] = <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	SelectArea(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">if</span> (ans == <span class="number">1e9</span>) ans = <span class="number">-1</span>;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17406/">백준 17406번 배열 돌리기 4</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17406-배열-돌리기-4"><a href="#17406-배열-돌리기-4" class="headerlink" title="#17406. 배열 돌리기 4"></a>#17406. 배열 돌리기 4</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17406" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>회전 연산 순서를 정한다. (0, 1, 2) 와 (1, 0, 2)는 다른 순서이다!</li>
<li>가장 바깥쪽 부터 시계방향으로 각 원소들을 회전시킨다.<br>가장 바깥쪽 크기는 <strong>2*s+1</strong>이다.</li>
<li>시작 지점부터 시작해서 +1씩, 크기는 -2씩 변경하며 회전시킨다.</li>
<li>중앙 지점으 만나면 더이상 회전시킬 수 없으므로 종료한다.</li>
<li>회전은 아래와 같은 방법으로 진행한다.</li>
<li><strong><a href="https://doyuni.github.io/2020/01/25/Algorithm/BOJ/17144/">“미세먼지 안녕!”</a></strong> 문제에서 설명한 배열 회전 방법과 동일하다.<br>여기선 시계방향이므로 2번째 그림이 이에 해당한다.</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/46062199/73121950-14990780-3fc2-11ea-9391-c99ce7698c5c.png" alt></p>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, K, ans = <span class="number">1e9</span>;</span><br><span class="line"><span class="keyword">int</span> arr[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> copy_arr[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> order[<span class="number">6</span>];</span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">6</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Inst</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c, s;</span><br><span class="line">&#125;ins[<span class="number">6</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">CopyArray</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			copy_arr[i][j] = arr[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getSum</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> res = <span class="number">1e9</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			sum += copy_arr[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (res &gt; sum) res = sum;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Rotate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	CopyArray();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> len = ins[order[i]].s * <span class="number">2</span> + <span class="number">1</span>; <span class="comment">// 가장 바깥쪽 크기</span></span><br><span class="line">		<span class="keyword">int</span> mid_r = ins[order[i]].r; <span class="comment">// 중심 좌표</span></span><br><span class="line">		<span class="keyword">int</span> mid_c = ins[order[i]].c;</span><br><span class="line">		<span class="keyword">int</span> start_r = ins[order[i]].r - ins[order[i]].s; <span class="comment">// 시작 좌표</span></span><br><span class="line">		<span class="keyword">int</span> start_c = ins[order[i]].c - ins[order[i]].s;</span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (mid_r == start_r &amp;&amp; mid_c == start_c) <span class="keyword">break</span>; <span class="comment">// 중심점이면 종료</span></span><br><span class="line">			<span class="keyword">int</span> temp = copy_arr[start_r][start_c]; <span class="comment">// 시작지점 값만 빼놓기</span></span><br><span class="line">			<span class="keyword">int</span> end_r = start_r + len - <span class="number">1</span>; <span class="comment">// 끝 행</span></span><br><span class="line">			<span class="keyword">int</span> end_c = start_c + len - <span class="number">1</span>; <span class="comment">// 끝 열</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> r = start_r; r &lt; start_r + len - <span class="number">1</span>; ++r) &#123; <span class="comment">// (1)</span></span><br><span class="line">				copy_arr[r][start_c] = copy_arr[r + <span class="number">1</span>][start_c];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> c = start_c; c &lt; start_c + len - <span class="number">1</span>; ++c) &#123; <span class="comment">// (2)</span></span><br><span class="line">				copy_arr[end_r][c] = copy_arr[end_r][c + <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> r = end_r; r &gt; start_r; --r) &#123; <span class="comment">// (3)</span></span><br><span class="line">				copy_arr[r][end_c] = copy_arr[r - <span class="number">1</span>][end_c];</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> c = end_c; c &gt; start_c + <span class="number">1</span>; --c) &#123; <span class="comment">// (4)</span></span><br><span class="line">				copy_arr[start_r][c] = copy_arr[start_r][c - <span class="number">1</span>];</span><br><span class="line">			&#125;</span><br><span class="line">			copy_arr[start_r][start_c + <span class="number">1</span>] = temp; <span class="comment">// 빼놓은 값 넣기</span></span><br><span class="line">			start_r++; start_c++; len -= <span class="number">2</span>; <span class="comment">// 시작지점 및 길이 갱신</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> res = getSum();</span><br><span class="line">	<span class="keyword">if</span> (ans &gt; res) ans = res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectOrder</span><span class="params">(<span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt == K) &#123;</span><br><span class="line">		Rotate();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[i]) <span class="keyword">continue</span>;</span><br><span class="line">		order[cnt] = i;</span><br><span class="line">		selected[i] = <span class="literal">true</span>;</span><br><span class="line">		SelectOrder(cnt + <span class="number">1</span>);</span><br><span class="line">		selected[i] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; arr[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; K; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> r, c, s;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; r &gt;&gt; c &gt;&gt; s;</span><br><span class="line">		ins[i] = &#123; r<span class="number">-1</span>, c<span class="number">-1</span>, s &#125;;</span><br><span class="line">	&#125;</span><br><span class="line">	SelectOrder(<span class="number">0</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17298/">백준 17298번 오큰수</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17298-오큰수"><a href="#17298-오큰수" class="headerlink" title="#17298. 오큰수"></a>#17298. 오큰수</h1><p><a href="https://www.acmicpc.net/problem/17298" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></p>
<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li>길이가 N인 수열</li>
</ul>
<p><strong>Goal: 각 원소에 대해 자신보다 오른쪽에 있으면서 크고 가장 왼쪽에 위치한 수를 구하여라<br>없다면 -1 출력</strong></p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li><code>Stack</code>을 사용한다.</li>
<li>단계는 문제에 예시로 있는 입력 값으로 설명을 하겠다.</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/46062199/73121964-5d50c080-3fc2-11ea-91f9-8600e7cb92e5.png" alt="Untitled"></p>
<p>오른쪽 순서로 단계가 진행된다.</p>
<ol>
<li>원소의 최댓값은 최대 1000000(백만)이기에 +1값을 MAX로 주었다.</li>
<li>수열의 맨 오른쪽부터 진행한다.</li>
</ol>
<ul>
<li>사이클<ol>
<li>비교 대상인 입력값과 스텍에 있는 값을 비교하여 스텍에 있는 값이 클 때까지 작업(비교)을 수행한다.</li>
<li>만약 MAX가 스텍의 top이라면 이미 자신보다 큰 수가 없다는 뜻이기에 -1를 출력값에 넣어준다.</li>
<li>그게 아니라면 스텍의 top은 항상 현재 입력값보다 크면서 가장 오른쪽에 있는 수이다. 그렇기에 top을 출력값에 넣어준다.</li>
</ol>
</li>
</ul>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 1000001</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">stack</span>&lt;<span class="keyword">int</span>&gt; a, ans, num;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, input;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;input);</span><br><span class="line">		num.push(input);</span><br><span class="line">	&#125;</span><br><span class="line">	a.push(MAX);</span><br><span class="line">	<span class="keyword">while</span>(!num.empty()) &#123;</span><br><span class="line">		<span class="keyword">while</span>(a.top() &lt;= num.top()) a.pop(); <span class="comment">// 같을 때도 pop을 해주어야 다음 큰 값을 비교가능</span></span><br><span class="line">		<span class="keyword">if</span>(a.top() == MAX) ans.push(<span class="number">-1</span>);</span><br><span class="line">		<span class="keyword">else</span> ans.push(a.top());</span><br><span class="line">		a.push(num.top()); num.pop();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span>(!ans.empty()) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, ans.top());</span><br><span class="line">		ans.pop();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17281/">백준 17281번 ⚾(야구공)</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17281-⚾"><a href="#17281-⚾" class="headerlink" title="#17281. ⚾"></a>#17281. ⚾</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17281" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>시뮬레이션 문제이다. 문제의 설명에 맞게 잘 구현하면 큰 어려움은 없는 문제</p>
<ol>
<li>타자의 순번을 정한다. (1번 선수는 4번 타자로 고정) → (1, 2, 3)과 (2, 1, 3)은 다른 순서임</li>
<li>1이닝부터 N이닝까지 경기를 진행한다.</li>
<li>각 이닝별 진행 흐름<ol>
<li>이전 순번 바로 다음부터 순번이 진행된다. (첫 이닝은 1번부터(인덱스상 0))</li>
<li>아웃이 3번이 될 때까지 진행한다.</li>
<li>1루, 2루, 3루에 선수가 있는지 표시하는 <code>is_there</code> 변수를 사용하여 진행한다.</li>
</ol>
</li>
</ol>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, ans;</span><br><span class="line"><span class="keyword">int</span> info[<span class="number">50</span>][<span class="number">9</span>]; <span class="comment">// 각 이닝별 타자 정보</span></span><br><span class="line"><span class="keyword">int</span> order[<span class="number">9</span>]; <span class="comment">// 타자 순번</span></span><br><span class="line"><span class="keyword">bool</span> selected[<span class="number">9</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Game</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> idx = <span class="number">0</span>, score = <span class="number">0</span>; <span class="comment">// 순번 인덱스, 현재 점수</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> inning = <span class="number">0</span>; inning &lt; N; ++inning) &#123;</span><br><span class="line">		<span class="keyword">bool</span> is_there[<span class="number">3</span>] = &#123; <span class="literal">false</span>, <span class="literal">false</span>, <span class="literal">false</span> &#125;; <span class="comment">// 1, 2, 3루</span></span><br><span class="line">		<span class="keyword">int</span> out = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (info[inning][order[idx]] == <span class="number">0</span>) &#123; <span class="comment">// 아웃</span></span><br><span class="line">				out++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (info[inning][order[idx]] == <span class="number">1</span>) &#123; <span class="comment">// 1루타</span></span><br><span class="line">				<span class="keyword">if</span> (is_there[<span class="number">2</span>]) &#123; <span class="comment">// 3루타 -&gt; 홈</span></span><br><span class="line">					score++; is_there[<span class="number">2</span>] = <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i != <span class="number">-1</span>; --i) &#123; <span class="comment">// 각각 1 전진</span></span><br><span class="line">					<span class="keyword">if</span> (is_there[i]) &#123;</span><br><span class="line">						is_there[i + <span class="number">1</span>] = <span class="literal">true</span>;</span><br><span class="line">						is_there[i] = <span class="literal">false</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				is_there[<span class="number">0</span>] = <span class="literal">true</span>; <span class="comment">// 1루 전진</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (info[inning][order[idx]] == <span class="number">2</span>) &#123; <span class="comment">// 2루타</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">3</span>; ++i) &#123; <span class="comment">// 2루, 3루 -&gt; 홈</span></span><br><span class="line">					<span class="keyword">if</span> (is_there[i]) &#123;</span><br><span class="line">						score++; is_there[i] = <span class="literal">false</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (is_there[<span class="number">0</span>]) &#123; <span class="comment">// 1루 -&gt; 3루</span></span><br><span class="line">					is_there[<span class="number">2</span>] = <span class="literal">true</span>; is_there[<span class="number">0</span>] = <span class="literal">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				is_there[<span class="number">1</span>] = <span class="literal">true</span>; <span class="comment">// 2루 전진</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (info[inning][order[idx]] == <span class="number">3</span>) &#123; <span class="comment">// 3루타</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123; <span class="comment">// 1, 2, 3루 -&gt; 홈</span></span><br><span class="line">					<span class="keyword">if</span> (is_there[i]) &#123;</span><br><span class="line">						score++; is_there[i] = <span class="literal">false</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				is_there[<span class="number">2</span>] = <span class="literal">true</span>; <span class="comment">// 3루 전진</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123; <span class="comment">// 홈런</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; ++i) &#123;</span><br><span class="line">					<span class="keyword">if</span> (is_there[i]) &#123;</span><br><span class="line">						score++; is_there[i] = <span class="literal">false</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				score++;</span><br><span class="line">			&#125;</span><br><span class="line">			idx = (idx + <span class="number">1</span>) % <span class="number">9</span>; <span class="comment">// 다음 순번</span></span><br><span class="line">			<span class="keyword">if</span> (out == <span class="number">3</span>) <span class="keyword">break</span>; <span class="comment">// 3진 아웃</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (ans &lt; score) ans = score;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectOrder</span><span class="params">(<span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt == <span class="number">9</span>) &#123;</span><br><span class="line">		Game();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (cnt == <span class="number">3</span>) cnt++;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">9</span>; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (selected[i]) <span class="keyword">continue</span>; </span><br><span class="line">		selected[i] = <span class="literal">true</span>;</span><br><span class="line">		order[cnt] = i;</span><br><span class="line">		SelectOrder(cnt + <span class="number">1</span>);</span><br><span class="line">		selected[i] = <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; info[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	selected[<span class="number">0</span>] = <span class="literal">true</span>; order[<span class="number">3</span>] = <span class="number">0</span>; <span class="comment">// 1번 선수 4번째 고정</span></span><br><span class="line">	SelectOrder(<span class="number">0</span>);</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17144/">백준 17144번 미세먼지 안녕!</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17144-미세먼지-안녕"><a href="#17144-미세먼지-안녕" class="headerlink" title="#17144. 미세먼지 안녕!"></a>#17144. 미세먼지 안녕!</h1><p><a href="https://www.acmicpc.net/problem/17144" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></p>
<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li>공기청정기 항상 왼쪽 열 (두 행 차지)</li>
<li>그외 미세먼지나 빈 칸이 존재</li>
<li>1초 동안 일어나는 일</li>
</ul>
<ol>
<li>미세먼지 확산<br>4방향(상하좌우)<br>공기청정기나 경계를 벗어나는 칸은 확산이 일어나지 않음<br>미세먼지 양/5 만큼 확산된다. (각 방향에 대해 한 칸)<br>확산된 후 남은 미세먼지 양은<br>현재 미세먼지 양 - 현재 미세먼지 양/5 * 확산된 방향 개수</li>
<li>공기청정기 작동 (바람)<br>위쪽 → 반시계방향 순환<br>아래쪽 → 시계방향 순환<br>미세먼지가 바람의 방향대로 한 칸씩 이동<br>미세먼지가 공기청정기로 들어가면 모두 정화</li>
</ol>
<p><strong>Goal: T초가 지난 후 남아있는 미세먼지의 양</strong></p>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><p>1초가 지날 때마다 다음과 같은 작업이 수행된다.</p>
<ol>
<li>미세먼지 확산</li>
<li>바람으로 인한 이동</li>
</ol>
<ul>
<li>미세먼지 확산</li>
</ul>
<p>5 이상인 값만 확산이 일어난다.<br>확산이 일어나기 전에 queue에 이 값과 이 값이 있는 위치를 저장해놓는다.<br>(값을 저장해야 올바른 값을 구할 수 있음)<br>queue에서 하나씩 꺼내어 4가지 방향을 확인한다.<br>(공기청정기 있는 곳과 경계를 넘는 곳은 불가능)<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">spread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = q.size();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> r = q.front().r;</span><br><span class="line">		<span class="keyword">int</span> c = q.front().c;</span><br><span class="line">		<span class="keyword">int</span> mid = q.front().value;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">			<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">			<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">			<span class="keyword">if</span> (isBound(x, y) &amp;&amp; <span class="built_in">map</span>[x][y] != <span class="number">-1</span>) &#123;</span><br><span class="line">				<span class="built_in">map</span>[x][y] += mid / <span class="number">5</span>;</span><br><span class="line">				<span class="built_in">map</span>[r][c] -= mid / <span class="number">5</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>확산이 가능하다면 연산을 수행한다.</p>
<ul>
<li>바람으로 인한 이동</li>
</ul>
<p>아래 순서대로 map을 바꿔준다. </p>
<p><img src="https://user-images.githubusercontent.com/46062199/73121950-14990780-3fc2-11ea-9391-c99ce7698c5c.png" alt></p>
<p>공기청정기로 들어간다는 것은 굳이 값을 바꿔줄 필요 없이 전의 값이 이를 덮어주기만 하면 된다. (1번째) → <strong>아래 2번 화살표가 잘못되었습니다….(반대입니다)</strong><br>공기청정기에서 나아가는 바람으로(4번째) 값을 0으로 채워주어야 한다.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wind</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j, clean_row = clean[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// 위쪽</span></span><br><span class="line">	<span class="keyword">for</span> (i = clean_row - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[<span class="number">0</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[<span class="number">0</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= clean_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">1</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line"><span class="comment">// 아래쪽</span></span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">	clean_row = clean[<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = clean_row + <span class="number">2</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[total_row - <span class="number">1</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[total_row - <span class="number">1</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = total_row - <span class="number">2</span>; i &gt;= clean_row; --i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">2</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 50</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> total_row, total_col, time;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> clean[<span class="number">2</span>]; </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">info</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c, value;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">queue</span>&lt;info&gt; q;</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; total_row &amp;&amp; c &lt; total_col) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">spread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = q.size();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> r = q.front().r;</span><br><span class="line">		<span class="keyword">int</span> c = q.front().c;</span><br><span class="line">		<span class="keyword">int</span> mid = q.front().value;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">			<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">			<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">			<span class="keyword">if</span> (isBound(x, y) &amp;&amp; <span class="built_in">map</span>[x][y] != <span class="number">-1</span>) &#123;</span><br><span class="line">				<span class="built_in">map</span>[x][y] += mid / <span class="number">5</span>;</span><br><span class="line">				<span class="built_in">map</span>[r][c] -= mid / <span class="number">5</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wind</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j, clean_row = clean[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = clean_row - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[<span class="number">0</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[<span class="number">0</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= clean_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">1</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">	clean_row = clean[<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = clean_row + <span class="number">2</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[total_row - <span class="number">1</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[total_row - <span class="number">1</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = total_row - <span class="number">2</span>; i &gt;= clean_row; --i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">2</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> answer, idx = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;total_row, &amp;total_col, &amp;time);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt;= <span class="number">5</span>) q.push(&#123; i, j, <span class="built_in">map</span>[i][j] &#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">map</span>[i][<span class="number">0</span>] == <span class="number">-1</span>) clean[idx++] = i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (time--) &#123;</span><br><span class="line">		answer = <span class="number">0</span>;</span><br><span class="line">		spread();</span><br><span class="line">		wind();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt; <span class="number">0</span>) answer += <span class="built_in">map</span>[i][j];</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt;= <span class="number">5</span>) q.push(&#123; i, j, <span class="built_in">map</span>[i][j] &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>테스트 케이스는 다 맞다는데 틀렸단다…ㅎ</p>
<p>그 이유는 MAX를 50이기 때문이다. (응? 뭔 🙄🤔…다음부터 넉넉히 잡자..)<br>MAX 51로 고쳐주니까 바로 정답 처리 되었다.</p>
<h3 id="2-Try"><a href="#2-Try" class="headerlink" title="2 Try"></a>2 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 51</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> total_row, total_col, time;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> clean[<span class="number">2</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">info</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c, value;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">queue</span>&lt;info&gt; q;</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; total_row &amp;&amp; c &lt; total_col) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">spread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">while</span>(!q.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> r = q.front().r;</span><br><span class="line">		<span class="keyword">int</span> c = q.front().c;</span><br><span class="line">		<span class="keyword">int</span> mid = q.front().value;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">			<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">			<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">			<span class="keyword">if</span> (isBound(x, y) &amp;&amp; <span class="built_in">map</span>[x][y] != <span class="number">-1</span>) &#123;</span><br><span class="line">				<span class="built_in">map</span>[x][y] += mid / <span class="number">5</span>;</span><br><span class="line">				<span class="built_in">map</span>[r][c] -= mid / <span class="number">5</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wind</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i, j, clean_row = clean[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = clean_row - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[<span class="number">0</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[<span class="number">0</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= clean_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">1</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">	clean_row = clean[<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = clean_row + <span class="number">2</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[total_row - <span class="number">1</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[total_row - <span class="number">1</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = total_row - <span class="number">2</span>; i &gt;= clean_row; --i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">2</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> answer, idx = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;total_row, &amp;total_col, &amp;time);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt;= <span class="number">5</span>) q.push(&#123; i, j, <span class="built_in">map</span>[i][j] &#125;);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">map</span>[i][<span class="number">0</span>] == <span class="number">-1</span>) clean[idx++] = i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (time--) &#123;</span><br><span class="line">		answer = <span class="number">0</span>;</span><br><span class="line">		spread();</span><br><span class="line">		wind();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt; <span class="number">0</span>) answer += <span class="built_in">map</span>[i][j];</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt;= <span class="number">5</span>) q.push(&#123; i, j, <span class="built_in">map</span>[i][j] &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Debug"><a href="#Debug" class="headerlink" title="Debug"></a>Debug</h3><ul>
<li>코드<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 50</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> total_row, total_col, time;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> clean[<span class="number">2</span>]; <span class="comment">// 공기청정기 위치(무조건 0열)</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">info</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> r, c, value;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">queue</span>&lt;info&gt; q;</span><br><span class="line"><span class="comment">// 상하좌우</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isBound</span><span class="params">(<span class="keyword">int</span> r, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span> &amp;&amp; c &gt; <span class="number">-1</span> &amp;&amp; r &lt; total_row &amp;&amp; c &lt; total_col) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1. 미세먼지 확산</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">spread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = q.size();</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; ++i) &#123;</span><br><span class="line">		<span class="keyword">int</span> r = q.front().r;</span><br><span class="line">		<span class="keyword">int</span> c = q.front().c;</span><br><span class="line">		<span class="keyword">int</span> mid = q.front().value;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j) &#123;</span><br><span class="line">			<span class="keyword">int</span> x = r + dx[j];</span><br><span class="line">			<span class="keyword">int</span> y = c + dy[j];</span><br><span class="line">			<span class="keyword">if</span> (isBound(x, y) &amp;&amp; <span class="built_in">map</span>[x][y] != <span class="number">-1</span>) &#123;</span><br><span class="line">				<span class="built_in">map</span>[x][y] += mid / <span class="number">5</span>;</span><br><span class="line">				<span class="built_in">map</span>[r][c] -= mid / <span class="number">5</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2. 바람으로 미세먼지 이동</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">wind</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="comment">// 위쪽 ( 반시계 작업은 거꾸로 수행, 그래야 편함)</span></span><br><span class="line">	<span class="keyword">int</span> i, j, clean_row = clean[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = clean_row - <span class="number">2</span>; i &gt;= <span class="number">0</span>; --i) &#123; <span class="comment">// 공기청정기에 들어가면 사라지니까 바로 이전건 그냥 덮어쓰면 됨</span></span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[<span class="number">0</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[<span class="number">0</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= clean_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">1</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">// 아래쪽 ( 시계 )</span></span><br><span class="line">	clean_row = clean[<span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span> (i = clean_row + <span class="number">2</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i - <span class="number">1</span>][<span class="number">0</span>] = <span class="built_in">map</span>[i][<span class="number">0</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[total_row - <span class="number">1</span>][j - <span class="number">1</span>] = <span class="built_in">map</span>[total_row - <span class="number">1</span>][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (i = total_row - <span class="number">2</span>; i &gt;= clean_row; --i) &#123;</span><br><span class="line">		<span class="built_in">map</span>[i + <span class="number">1</span>][total_col - <span class="number">1</span>] = <span class="built_in">map</span>[i][total_col - <span class="number">1</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (j = total_col - <span class="number">2</span>; j &gt;= <span class="number">1</span>; --j) &#123;</span><br><span class="line">		<span class="built_in">map</span>[clean_row][j + <span class="number">1</span>] = <span class="built_in">map</span>[clean_row][j];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">map</span>[clean_row][<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> answer, idx = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;total_row, &amp;total_col, &amp;time);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;<span class="built_in">map</span>[i][j]);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt;= <span class="number">5</span>) q.push(&#123; i, j, <span class="built_in">map</span>[i][j] &#125;); </span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">map</span>[i][<span class="number">0</span>] == <span class="number">-1</span>) clean[idx++] = i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (time--) &#123;</span><br><span class="line">		answer = <span class="number">0</span>;</span><br><span class="line">		spread();</span><br><span class="line">		wind();</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"change\n"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_row; ++i) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_col; ++j) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"%d "</span>, <span class="built_in">map</span>[i][j]);</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt; <span class="number">0</span>) answer += <span class="built_in">map</span>[i][j];</span><br><span class="line">				<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] &gt;= <span class="number">5</span>) q.push(&#123; i, j, <span class="built_in">map</span>[i][j] &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>바람에 의한 이동 확인용 test case<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">7 8 1</span><br><span class="line">2 4 0 0 0 0 0 9</span><br><span class="line">3 0 0 0 3 0 0 8</span><br><span class="line">-1 3 5 0 0 0 22 0</span><br><span class="line">-1 8 0 0 0 0 0 3</span><br><span class="line">3 0 0 0 0 10 43 5</span><br><span class="line">4 0 5 0 15 0 0 0</span><br><span class="line">2 1 40 0 0 0 20 3</span><br><span class="line">&#x2F;&#x2F; output</span><br><span class="line">Change</span><br><span class="line">4 0 0 0 0 0 9 8</span><br><span class="line">2 0 0 0 3 0 0 0</span><br><span class="line">-1 0 3 5 0 0 0 22</span><br><span class="line">-1 0 8 0 0 0 0 0</span><br><span class="line">4 0 0 0 0 10 43 3</span><br><span class="line">2 0 5 0 15 0 0 5</span><br><span class="line">1 40 0 0 0 20 3 0</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">6 6 1</span><br><span class="line"> 5  0 3  4 1 2</span><br><span class="line"> 0  0 7  0 0 3</span><br><span class="line">-1 10 0 46 0 2</span><br><span class="line">-1  0 0  0 0 4</span><br><span class="line"> 3  0 0  0 0 3</span><br><span class="line"> 1  3 1  2 4 2</span><br><span class="line">change!!</span><br><span class="line"> 3 1   4  4 1 2</span><br><span class="line"> 1 3   3 10 0 3</span><br><span class="line">-1 4  12 10 9 2</span><br><span class="line">-1 2   0  9 0 4</span><br><span class="line"> 3 0   0  0 0 3</span><br><span class="line"> 1 3   1  2 4 2</span><br></pre></td></tr></table></figure></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17143/">백준 17143번 낚시왕</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17143-낚시왕"><a href="#17143-낚시왕" class="headerlink" title="#17143. 낚시왕"></a>#17143. 낚시왕</h1><p><a href="https://www.acmicpc.net/problem/17143" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></p>
<h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li>R x C 크기의 격자판</li>
<li>낚시왕 위치 (0, 0)</li>
<li>1초 동안 일어나는 일<ol>
<li>낚시왕 오른쪽으로 한 칸 이동<br>(낚시왕이 먼저 이동하기에 상어가 이동하기 전 잡히게 된다.)</li>
<li>낚시왕이 열에 있는 상어 중 가장 가까운 상어를 잡는다.</li>
<li>상어 이동<br>상어 : 속도와 크기를 가짐<br>경계를 넘게되면 방향을 반대로 바꿈<br><strong>이동을 마친 후에</strong> 상어가 한 칸에 여러 마리 있으면, 가장 큰 상어가 나머지 상어들을 모두 먹음(사라짐)</li>
</ol>
</li>
</ul>
<p><strong>Goal: 낚시왕이 잡은 상어 크기의 합</strong></p>
<ul>
<li><p>입력</p>
<p>  R : ~100<br>  C : ~100<br>  M(상어 수) : ~10000<br>  r, c : 위치 ~R, ~C<br>  s : 속력 ~1000<br>  d : 이동방향 1~4 상하우좌<br>  z : 크기 ~10000</p>
</li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>필자는 인덱스를 0부터 계산하였기에…이를 모두 신경쓰느라 🐕고생<br>그냥 1부터 신경쓰는게 편할 수도 있다. (입력 받을 때도 신경써주어야함…)</li>
<li>상어 정보 (MAX는 100)<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">INFO</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> row, col, speed, direction, size;</span><br><span class="line">	<span class="keyword">bool</span> death = <span class="literal">false</span>;</span><br><span class="line">&#125;sharks[MAX*MAX];</span><br></pre></td></tr></table></figure>
상어의 현재 위치, 방향, 크기, 사라졌는지 유무가 저장된다.<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(열의 수: 처음부터~열의 끝까지 이동) </span><br><span class="line">	catchShark() <span class="comment">//  1. 상어를 잡는다</span></span><br><span class="line">	moveShark() <span class="comment">//   2. 상어가 이동한다.</span></span><br><span class="line">	updateMap() <span class="comment">//   3. 이동을 마친 상어들 map에 반영(먹히면 사라지도록)</span></span><br></pre></td></tr></table></figure></li>
<li><code>catchShark()</code><br>해당 열을 탐색하다가 상어를 발견하면 답에 크기를 더해주고 리턴</li>
<li><code>moveShark()</code><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">주기 : <span class="number">2</span> * (전체 행이나 열의 크기<span class="number">-1</span>)</span><br><span class="line"><span class="comment">// ex 방향 -&gt; 전체 열의 크기: 4, 상어는 (1, 2)에 있다고 가정할 때</span></span><br><span class="line">위치:     <span class="number">2</span>  <span class="number">3</span>  <span class="number">2</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">2</span>  <span class="number">1</span>  <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></span><br><span class="line">방향:    -&gt; &lt;- &lt;- &lt;- -&gt; -&gt; -&gt; &lt;- &lt;- &lt;- -&gt; -&gt; -&gt; &lt;-</span><br><span class="line">이동거리: <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span>  <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> </span><br><span class="line"></span><br><span class="line">주기가 <span class="number">2</span> * <span class="number">3</span> = <span class="number">6</span>으로 이동거리가 <span class="number">6</span>마다 같은 위치를 반복하고 있음</span><br><span class="line">방향은 <span class="number">0</span>이나 전체 열의 크기<span class="number">-1</span>에 위치할 때 바뀜</span><br><span class="line">위치는 방향에 맞게 이동해주면 됨</span><br><span class="line"></span><br><span class="line">방향</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span>  <span class="comment">// 상하 우좌</span></span><br><span class="line"><span class="number">1</span> &lt;-&gt; <span class="number">2</span> (<span class="number">1</span>일 때 <span class="number">2</span>, <span class="number">2</span>일 때 <span class="number">1</span>)</span><br><span class="line"><span class="number">3</span> &lt;-&gt; <span class="number">4</span> (<span class="number">3</span>일 때 <span class="number">4</span>, <span class="number">4</span>일 때 <span class="number">3</span>)</span><br><span class="line">현재 방향을 <span class="number">2</span>로 나눴을 때 </span><br><span class="line">나머지가 <span class="number">0</span>이면 현재 방향에서 <span class="number">1</span>을 빼주고</span><br><span class="line">아니면 <span class="number">1</span>을 더해주면 바뀐 방향을 구할 수 있다.</span><br></pre></td></tr></table></figure></li>
<li><code>updateMap()</code></li>
</ul>
<ol>
<li>map을 초기화 해준다. (이동한 상어의 위치를 새로 반영하기 위해)</li>
<li>해당 위치에 상어가 있을 때와 없을 때를 구분해서 처리를 해준다.</li>
</ol>
<p>초기에 입력값을 반영하기 위해, 입력을 모두 받고 한 번 호출해준다.</p>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> r, c, m, idx, answer;</span><br><span class="line"><span class="comment">// 상하우좌</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;; </span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="comment">// 상어 정보</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">INFO</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> row, col, speed, direction, size;</span><br><span class="line">	<span class="keyword">bool</span> death = <span class="literal">false</span>;</span><br><span class="line">&#125;sharks[MAX*MAX];</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX][<span class="number">2</span>]; <span class="comment">// 상어가 존재한다면 해당 상어 크기와 해당 상어가 몇 번째 상어인지</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">catchShark</span><span class="params">(<span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">map</span>[i][col][<span class="number">0</span>] != <span class="number">0</span>) &#123;</span><br><span class="line">			sharks[<span class="built_in">map</span>[i][col][<span class="number">1</span>]].death = <span class="literal">true</span>;</span><br><span class="line">			answer += sharks[<span class="built_in">map</span>[i][col][<span class="number">1</span>]].size;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">changeDirection</span><span class="params">(<span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (sharks[idx].direction % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">		sharks[idx].direction--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		sharks[idx].direction++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">moveShark</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> period = <span class="number">2</span> * end;</span><br><span class="line">	<span class="keyword">int</span> move = sharks[idx].speed % period;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; move; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (sharks[idx].direction &lt;= <span class="number">2</span>) &#123; <span class="comment">// 상하</span></span><br><span class="line">			<span class="keyword">if</span> ((sharks[idx].row == end &amp;&amp; sharks[idx].direction == <span class="number">2</span>) ||</span><br><span class="line">				(sharks[idx].row == <span class="number">0</span> &amp;&amp; sharks[idx].direction == <span class="number">1</span>)) &#123;</span><br><span class="line">				changeDirection(idx);</span><br><span class="line">			&#125;</span><br><span class="line">			sharks[idx].row += dx[sharks[idx].direction - <span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123; <span class="comment">// 우좌</span></span><br><span class="line">			<span class="keyword">if</span> ((sharks[idx].col == end &amp;&amp; sharks[idx].direction == <span class="number">3</span>) ||</span><br><span class="line">				(sharks[idx].col == <span class="number">0</span> &amp;&amp; sharks[idx].direction == <span class="number">4</span>)) &#123;</span><br><span class="line">				changeDirection(idx);</span><br><span class="line">			&#125;</span><br><span class="line">			sharks[idx].col += dy[sharks[idx].direction<span class="number">-1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updateMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; ++i) &#123; <span class="comment">// map 초기화</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; c; ++j) &#123;</span><br><span class="line">			<span class="built_in">map</span>[i][j][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (sharks[i].death) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">int</span> r = sharks[i].row;</span><br><span class="line">		<span class="keyword">int</span> c = sharks[i].col;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">map</span>[r][c][<span class="number">0</span>] != <span class="number">0</span>) &#123; <span class="comment">// 해당 위치에 상어가 있다면</span></span><br><span class="line">			<span class="keyword">if</span> (sharks[i].size &gt; <span class="built_in">map</span>[r][c][<span class="number">0</span>]) &#123;</span><br><span class="line">				sharks[<span class="built_in">map</span>[r][c][<span class="number">1</span>]].death = <span class="literal">true</span>;</span><br><span class="line">				<span class="built_in">map</span>[r][c][<span class="number">0</span>] = sharks[i].size;</span><br><span class="line">				<span class="built_in">map</span>[r][c][<span class="number">1</span>] = i;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				sharks[i].death = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123; <span class="comment">// 해당 위치에 상어가 없을 때</span></span><br><span class="line">			<span class="built_in">map</span>[r][c][<span class="number">0</span>] = sharks[i].size;</span><br><span class="line">			<span class="built_in">map</span>[r][c][<span class="number">1</span>] = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;r, &amp;c, &amp;m);</span><br><span class="line">	<span class="keyword">int</span> row, col;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;row);</span><br><span class="line">		sharks[idx].row = row - <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;col);</span><br><span class="line">		sharks[idx].col = col - <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;sharks[idx].speed);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;sharks[idx].direction);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;sharks[idx++].size);</span><br><span class="line">	&#125;</span><br><span class="line">	updateMap(); <span class="comment">// 초기 map update</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; c; ++i) &#123;</span><br><span class="line">		catchShark(i); <span class="comment">// 상어 잡기</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j) &#123; <span class="comment">// 상어 이동</span></span><br><span class="line">			<span class="keyword">if</span> (sharks[j].death) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (sharks[j].direction &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">				moveShark(j, r<span class="number">-1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				moveShark(j, c<span class="number">-1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		updateMap(); <span class="comment">// 이동한 상어 위치 반영</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>자꾸 for문에서 <code>i</code>나 <code>j</code>가 아닌 r, c로 고정값을 두어서…이런 실수는 진짜진짜 조심하자.</li>
</ul>
<h3 id="For-Debug"><a href="#For-Debug" class="headerlink" title="For Debug"></a>For Debug</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 100</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> r, c, m, idx, answer;</span><br><span class="line"><span class="comment">// 상하우좌</span></span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;; </span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"><span class="comment">// 상어 정보</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">INFO</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> row, col, speed, direction, size;</span><br><span class="line">	<span class="keyword">bool</span> death = <span class="literal">false</span>;</span><br><span class="line">&#125;sharks[MAX*MAX];</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[MAX][MAX][<span class="number">2</span>]; <span class="comment">// 상어가 존재한다면 해당 상어 크기와 해당 상어가 몇 번째 상어인지</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">catchShark</span><span class="params">(<span class="keyword">int</span> col)</span> </span>&#123;</span><br><span class="line">	<span class="comment">/*printf("%d번째\n", col); // map 확인</span></span><br><span class="line"><span class="comment">	for (int i = 0; i &lt; r; ++i) &#123;</span></span><br><span class="line"><span class="comment">		for (int j = 0; j &lt; c; ++j) &#123;</span></span><br><span class="line"><span class="comment">			printf("%d ", map[i][j][0]);</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		printf("\n");</span></span><br><span class="line"><span class="comment">	&#125;*/</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">map</span>[i][col][<span class="number">0</span>] != <span class="number">0</span>) &#123;</span><br><span class="line">			sharks[<span class="built_in">map</span>[i][col][<span class="number">1</span>]].death = <span class="literal">true</span>;</span><br><span class="line">			answer += sharks[<span class="built_in">map</span>[i][col][<span class="number">1</span>]].size;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">changeDirection</span><span class="params">(<span class="keyword">int</span> idx)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (sharks[idx].direction % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">		sharks[idx].direction--;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		sharks[idx].direction++;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">moveShark</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> period = <span class="number">2</span> * end;</span><br><span class="line">	<span class="keyword">int</span> move = sharks[idx].speed % period;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; move; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (sharks[idx].direction &lt;= <span class="number">2</span>) &#123; <span class="comment">// 상하</span></span><br><span class="line">			<span class="keyword">if</span> ((sharks[idx].row == end &amp;&amp; sharks[idx].direction == <span class="number">2</span>) ||</span><br><span class="line">				(sharks[idx].row == <span class="number">0</span> &amp;&amp; sharks[idx].direction == <span class="number">1</span>)) &#123;</span><br><span class="line">				changeDirection(idx);</span><br><span class="line">			&#125;</span><br><span class="line">			sharks[idx].row += dx[sharks[idx].direction - <span class="number">1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123; <span class="comment">// 우좌</span></span><br><span class="line">			<span class="keyword">if</span> ((sharks[idx].col == end &amp;&amp; sharks[idx].direction == <span class="number">3</span>) ||</span><br><span class="line">				(sharks[idx].col == <span class="number">0</span> &amp;&amp; sharks[idx].direction == <span class="number">4</span>)) &#123;</span><br><span class="line">				changeDirection(idx);</span><br><span class="line">			&#125;</span><br><span class="line">			sharks[idx].col += dy[sharks[idx].direction<span class="number">-1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updateMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; r; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; c; ++j) &#123;</span><br><span class="line">			<span class="built_in">map</span>[i][j][<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">		<span class="keyword">if</span> (sharks[i].death) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">int</span> r = sharks[i].row;</span><br><span class="line">		<span class="keyword">int</span> c = sharks[i].col;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">map</span>[r][c][<span class="number">0</span>] != <span class="number">0</span>) &#123; <span class="comment">// 해당 위치에 상어가 있다면</span></span><br><span class="line">			<span class="keyword">if</span> (sharks[i].size &gt; <span class="built_in">map</span>[r][c][<span class="number">0</span>]) &#123;</span><br><span class="line">				sharks[<span class="built_in">map</span>[r][c][<span class="number">1</span>]].death = <span class="literal">true</span>;</span><br><span class="line">				<span class="built_in">map</span>[r][c][<span class="number">0</span>] = sharks[i].size;</span><br><span class="line">				<span class="built_in">map</span>[r][c][<span class="number">1</span>] = i;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				sharks[i].death = <span class="literal">true</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123; <span class="comment">// 해당 위치에 상어가 없을 때</span></span><br><span class="line">			<span class="built_in">map</span>[r][c][<span class="number">0</span>] = sharks[i].size;</span><br><span class="line">			<span class="built_in">map</span>[r][c][<span class="number">1</span>] = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;r, &amp;c, &amp;m);</span><br><span class="line">	<span class="keyword">int</span> row, col;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m; ++i) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;row);</span><br><span class="line">		sharks[idx].row = row - <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;col);</span><br><span class="line">		sharks[idx].col = col - <span class="number">1</span>;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;sharks[idx].speed);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;sharks[idx].direction);</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;sharks[idx++].size);</span><br><span class="line">	&#125;</span><br><span class="line">	updateMap();</span><br><span class="line">	<span class="comment">/*for (int i = 0; i &lt; m; ++i) &#123; // 입력 확인</span></span><br><span class="line"><span class="comment">		printf("%d %d %d %d %d\n", sharks[i].row, sharks[i].col, sharks[i].speed, sharks[i].direction, sharks[i].size);</span></span><br><span class="line"><span class="comment">	&#125;*/</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; c; ++i) &#123;</span><br><span class="line">		catchShark(i);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (sharks[j].death) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (sharks[j].direction &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">				moveShark(j, r<span class="number">-1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> &#123;</span><br><span class="line">				moveShark(j, c<span class="number">-1</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		updateMap();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, answer);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17142/">백준 17142번 연구소 3</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17142-연구소-3"><a href="#17142-연구소-3" class="headerlink" title="#17142. 연구소 3"></a>#17142. 연구소 3</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17142" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>퍼트릴 M개의 바이러스를 선택한다. (DFS)<br>중복을 허용하지 않는 조합이다.</li>
<li>선택한 바이러스를 퍼트리다. (BFS)<br>4 방향으로 탐색을 하되, 빈 칸 또는 바이러스가 있는 곳이어야 한다.</li>
<li>dist라는 배열에 시간을 저장한다.<br>단, 모서리에 있는 바이러스에서 탐색이 끝난 경우 시간을 1 빼주어야 한다.</li>
</ul>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> N, M, ans = <span class="number">1e9</span>;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">map</span>[<span class="number">50</span>][<span class="number">50</span>];</span><br><span class="line"><span class="keyword">int</span> selected[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123; <span class="number">-1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123; <span class="number">0</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">vector</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; virus;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Spread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> visit[<span class="number">50</span>][<span class="number">50</span>] = &#123; <span class="number">0</span>, &#125;;</span><br><span class="line">	<span class="keyword">int</span> dist[<span class="number">50</span>][<span class="number">50</span>] = &#123; <span class="number">0</span>, &#125;;</span><br><span class="line">	<span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> e : selected) &#123;</span><br><span class="line">		<span class="keyword">if</span> (e != <span class="number">-1</span>) &#123;</span><br><span class="line">			q.push(&#123; virus[e].first, virus[e].second &#125;);</span><br><span class="line">			visit[virus[e].first][virus[e].second] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">		<span class="keyword">int</span> x = q.front().first;</span><br><span class="line">		<span class="keyword">int</span> y = q.front().second;</span><br><span class="line">		q.pop();</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> dir = <span class="number">0</span>; dir &lt; <span class="number">4</span>; ++dir) &#123;</span><br><span class="line">			<span class="keyword">int</span> d_x = x + dx[dir];</span><br><span class="line">			<span class="keyword">int</span> d_y = y + dy[dir];</span><br><span class="line">			<span class="keyword">if</span> (d_x &lt; <span class="number">0</span> || d_y &lt; <span class="number">0</span> || d_x &gt;= N || d_y &gt;= N) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[d_x][d_y] == <span class="number">1</span> || visit[d_x][d_y]) <span class="keyword">continue</span>;</span><br><span class="line">			visit[d_x][d_y] = <span class="literal">true</span>;</span><br><span class="line">			q.push(&#123; d_x, d_y &#125;);</span><br><span class="line">			dist[d_x][d_y] = dist[x][y] + <span class="number">1</span>; </span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">int</span> time = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="keyword">if</span> (dist[i][j] != <span class="number">0</span> &amp;&amp; <span class="built_in">map</span>[i][j] == <span class="number">2</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span> || i == N - <span class="number">1</span> || j == N - <span class="number">1</span>)</span><br><span class="line">					dist[i][j]--;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (!visit[i][j] &amp;&amp; <span class="built_in">map</span>[i][j] == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">			<span class="keyword">if</span> (dist[i][j] &gt; time) time = dist[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (ans &gt; time) ans = time;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SelectVirus</span><span class="params">(<span class="keyword">int</span> idx, <span class="keyword">int</span> cnt)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (cnt == M) &#123;</span><br><span class="line">		Spread();</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = idx; i &lt; virus.size(); ++i) &#123;</span><br><span class="line">		selected[i] = i;</span><br><span class="line">		SelectVirus(i+<span class="number">1</span>, cnt + <span class="number">1</span>);</span><br><span class="line">		selected[i] = <span class="number">-1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">	<span class="keyword">bool</span> no_zero = <span class="literal">true</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; <span class="built_in">map</span>[i][j];</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] == <span class="number">2</span>) virus.push_back(&#123; i, j &#125;);</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">map</span>[i][j] == <span class="number">0</span>) no_zero = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (no_zero) &#123;</span><br><span class="line">		<span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">memset</span>(selected, <span class="number">-1</span>, <span class="keyword">sizeof</span>(selected));</span><br><span class="line">		SelectVirus(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">		<span class="keyword">if</span> (ans != <span class="number">1e9</span>) <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2020/01/25/Algorithm/BOJ/17140/">백준 17140번 이차원 배열과 연산</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-01-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/">Algorithm</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Algorithm/BOJ/">BOJ</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Algorithm/">Algorithm</a></span><div class="content"><h1 id="17140-이차원-배열과-연산"><a href="#17140-이차원-배열과-연산" class="headerlink" title="#17140. 이차원 배열과 연산"></a>#17140. 이차원 배열과 연산</h1><h3 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h3><ul>
<li><a href="https://www.acmicpc.net/problem/17140" target="_blank" rel="external nofollow noopener noreferrer">문제링크</a></li>
</ul>
<h3 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h3><ul>
<li>시뮬레이션 문제이다. (항상 자료구조를 뭘 사용할지 잘 판단하자.)</li>
<li>여기서는 <strong>map</strong>과 <strong>priority queue</strong>를 사용하였다.</li>
<li>map의 쓰임</li>
</ul>
<p>&lt;수, 등장 횟수&gt;를 저장하기 위해 쓰인다. 처음에 1차원 배열로 cnt[수]=등장 횟수로 하려 했지만, 이렇게 되면 매번 100번 for문을 연산해야 한다고 느껴 map을 이용해 바로 접근이 가능하도록 하였다.</p>
<ul>
<li>priority queue의 쓰임</li>
</ul>
<p>R연산 또는 C연산 중에 생성되는 정렬된 값들을 저장하기 위해 쓰인다. 연산자를 오버로딩하여 삽입 시 정렬 순위를 정해주었다.<br>원래 우선순위 큐는 기본적으로 내림차순으로 정렬되어 있다. (pair라면 첫 번째 기준, 첫 번째 원소가 같다면 두 번째 원소 내림차순 정렬)</p>
<p>그렇기에 따로 정해주었는데 그럴 필요 없이 <strong>-를 붙여 저장하면 오름차순으로 정렬된다는 것을 깨닫고…(유레카!!)</strong></p>
<p>*아래 코드는 그러진 않았다.</p>
<ul>
<li>해당 수를 카운트할 때 중요한 것은 카운트가 끝나면 <strong>해당 배열의 값을 0으로 바꾼다</strong>는 것이다. 그래야 행이나 열의 크기가 줄어들 때 영향을 받지 않고 연산을 정상적으로 수행할 수 있다.</li>
<li>그 외는 문제 그대로 구현하면 된다.</li>
</ul>
<h3 id="1-Try"><a href="#1-Try" class="headerlink" title="1 Try"></a>1 Try</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> r, c, k, total_r, total_c;</span><br><span class="line"><span class="keyword">int</span> A[<span class="number">100</span>][<span class="number">100</span>]; <span class="comment">// 1 ~ 100</span></span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; cnt;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Info</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> num, count;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> Info &amp;v1, <span class="keyword">const</span> Info &amp;v2) &#123;</span><br><span class="line">	<span class="keyword">if</span> (v1.count == v2.count) <span class="keyword">return</span> v1.num &gt; v2.num;</span><br><span class="line">	<span class="keyword">return</span> v1.count &gt; v2.count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Input</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; r &gt;&gt; c &gt;&gt; k;</span><br><span class="line">	total_r = total_c = <span class="number">3</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_r; ++i) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_c; ++j) &#123;</span><br><span class="line">			<span class="built_in">cin</span> &gt;&gt; A[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Task</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> t = <span class="number">0</span>; t &lt;= <span class="number">100</span>; ++t) &#123;</span><br><span class="line">		<span class="keyword">if</span> (A[r - <span class="number">1</span>][c - <span class="number">1</span>] == k) &#123;</span><br><span class="line">			<span class="built_in">cout</span> &lt;&lt; t &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		priority_queue&lt;Info&gt; pq;</span><br><span class="line">		<span class="keyword">if</span> (total_r &gt;= total_c) &#123; <span class="comment">// R 연산</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_r; ++i) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_c; ++j) &#123;</span><br><span class="line">					<span class="keyword">if</span> (A[i][j] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">					<span class="keyword">if</span> (cnt.count(A[i][j]) == <span class="number">0</span>) cnt[A[i][j]] = <span class="number">1</span>;</span><br><span class="line">					<span class="keyword">else</span> cnt[A[i][j]]++;</span><br><span class="line">					A[i][j] = <span class="number">0</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">auto</span> e : cnt) &#123;</span><br><span class="line">					pq.push(&#123; e.first, e.second &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">				cnt.clear();</span><br><span class="line">				<span class="keyword">int</span> len = pq.size() * <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j += <span class="number">2</span>) &#123;</span><br><span class="line">					A[i][j] = pq.top().num; A[i][j + <span class="number">1</span>] = pq.top().count;</span><br><span class="line">					pq.pop();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (total_c &lt; len) total_c = len;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123; <span class="comment">// C 연산</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; total_c; ++i) &#123;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; total_r; ++j) &#123;</span><br><span class="line">					<span class="keyword">if</span> (A[j][i] == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">					<span class="keyword">if</span> (cnt.count(A[j][i]) == <span class="number">0</span>) cnt[A[j][i]] = <span class="number">1</span>;</span><br><span class="line">					<span class="keyword">else</span> cnt[A[j][i]]++;</span><br><span class="line">					A[j][i] = <span class="number">0</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">auto</span> e : cnt) &#123;</span><br><span class="line">					pq.push(&#123; e.first, e.second &#125;);</span><br><span class="line">				&#125;</span><br><span class="line">				cnt.clear();</span><br><span class="line">				<span class="keyword">int</span> len = pq.size() * <span class="number">2</span>;</span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j += <span class="number">2</span>) &#123;</span><br><span class="line">					A[j][i] = pq.top().num; A[j + <span class="number">1</span>][i] = pq.top().count;</span><br><span class="line">					pq.pop();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (total_r &lt; len) total_r = len;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="number">-1</span> &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Input();</span><br><span class="line">	Task();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://images.unsplash.com/photo-1555306210-a7dacfb0f72c?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=crop&amp;w=2250&amp;q=80)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2020 By Geum Doyun</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="external nofollow noopener noreferrer"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="external nofollow noopener noreferrer"><span>Melody</span></a></div><div class="footer_custom_text">Welcome to <a href="https://doyuni.github.io/">doyuni's blog</a>!</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/algolia.js"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>